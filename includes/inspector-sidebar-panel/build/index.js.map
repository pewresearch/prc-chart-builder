{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@prc/chart-builder/webpack/bootstrap","webpack://@prc/chart-builder/webpack/runtime/compat get default export","webpack://@prc/chart-builder/webpack/runtime/define property getters","webpack://@prc/chart-builder/webpack/runtime/hasOwnProperty shorthand","webpack://@prc/chart-builder/external window [\"wp\",\"i18n\"]","webpack://@prc/chart-builder/external window [\"wp\",\"element\"]","webpack://@prc/chart-builder/external window [\"wp\",\"plugins\"]","webpack://@prc/chart-builder/external window [\"wp\",\"data\"]","webpack://@prc/chart-builder/external window [\"wp\",\"editor\"]","webpack://@prc/chart-builder/external window [\"wp\",\"components\"]","webpack://@prc/chart-builder/external window [\"wp\",\"apiFetch\"]","webpack://@prc/chart-builder/external window \"ReactJSXRuntime\"","webpack://@prc/chart-builder/./includes/inspector-sidebar-panel/src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState } from '@wordpress/element';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { useSelect } from '@wordpress/data';\nimport { PluginDocumentSettingPanel } from '@wordpress/editor';\nimport { Spinner, Notice, ExternalLink } from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Styles\n */\nimport './editor.scss';\n\n/**\n * Component to display a single referencing post.\n *\n * @param {Object} props Component props\n * @param {Object} props.post Post data\n */\nfunction ReferencingPostItem({ post }) {\n\tconst getPostTypeLabel = (postType) => {\n\t\tconst labels = {\n\t\t\tpost: __('Post', 'prc-chart-builder'),\n\t\t\tpage: __('Page', 'prc-chart-builder'),\n\t\t\t'short-read': __('Short Read', 'prc-chart-builder'),\n\t\t\t'fact-sheet': __('Fact Sheet', 'prc-chart-builder'),\n\t\t\tfeature: __('Feature', 'prc-chart-builder'),\n\t\t\tquiz: __('Quiz', 'prc-chart-builder'),\n\t\t};\n\t\treturn labels[postType] || postType;\n\t};\n\n\tconst getStatusBadge = (status) => {\n\t\tconst statusMap = {\n\t\t\tpublish: __('Published', 'prc-chart-builder'),\n\t\t\tdraft: __('Draft', 'prc-chart-builder'),\n\t\t\tprivate: __('Private', 'prc-chart-builder'),\n\t\t\tpending: __('Pending', 'prc-chart-builder'),\n\t\t\tfuture: __('Scheduled', 'prc-chart-builder'),\n\t\t};\n\t\tconst statusLabel = statusMap[status] || status;\n\n\t\treturn (\n\t\t\t<span className={`status-badge status-${status}`}>\n\t\t\t\t{statusLabel}\n\t\t\t</span>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"referencing-post-item\">\n\t\t\t<div className=\"post-header\">\n\t\t\t\t<div className=\"post-content\">\n\t\t\t\t\t<h4 className=\"post-title\">\n\t\t\t\t\t\t<ExternalLink href={post.edit_url}>\n\t\t\t\t\t\t\t{post.title || __('(No title)', 'prc-chart-builder')}\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t{getStatusBadge(post.status)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<p className=\"post-meta\">\n\t\t\t\t\t\t{getPostTypeLabel(post.type)} â€¢ ID: {post.id}\n\t\t\t\t\t</p>\n\t\t\t\t\t{post.status === 'publish' && (\n\t\t\t\t\t\t<p className=\"post-view-link\">\n\t\t\t\t\t\t\t<ExternalLink href={post.permalink}>\n\t\t\t\t\t\t\t\t{__('View Post', 'prc-chart-builder')}\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n/**\n * Chart Inspector Panel Component\n */\nfunction ChartInspectorPanel() {\n\tconst [referencingPosts, setReferencingPosts] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [error, setError] = useState(null);\n\n\tconst { postId, postType } = useSelect((select) => ({\n\t\tpostId: select(editorStore).getCurrentPostId(),\n\t\tpostType: select(editorStore).getCurrentPostType(),\n\t}), []);\n\n\t// Only show panel for chart post type\n\tif (postType !== 'chart') {\n\t\treturn null;\n\t}\n\n\tuseEffect(() => {\n\t\tif (!postId) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsLoading(true);\n\t\tsetError(null);\n\n\t\tapiFetch({\n\t\t\tpath: `prc-chart-builder/v1/chart/${postId}/referencing-posts`,\n\t\t})\n\t\t\t.then((posts) => {\n\t\t\t\tsetReferencingPosts(posts);\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.catch((fetchError) => {\n\t\t\t\tsetError(fetchError.message || __('Failed to load referencing posts', 'prc-chart-builder'));\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\t}, [postId]);\n\n\treturn (\n\t\t<PluginDocumentSettingPanel\n\t\t\tname=\"prc-chart-builder-referencing-posts\"\n\t\t\ttitle={__('Posts Using This Chart', 'prc-chart-builder')}\n\t\t\tclassName=\"prc-chart-builder-inspector-panel\"\n\t\t>\n\t\t\t{isLoading && (\n\t\t\t\t<div className=\"loading-container\">\n\t\t\t\t\t<Spinner />\n\t\t\t\t\t<span className=\"loading-text\">\n\t\t\t\t\t\t{__('Loading referencing posts...', 'prc-chart-builder')}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{error && (\n\t\t\t\t<Notice status=\"error\" isDismissible={false}>\n\t\t\t\t\t{error}\n\t\t\t\t</Notice>\n\t\t\t)}\n\n\t\t\t{!isLoading && !error && referencingPosts.length === 0 && (\n\t\t\t\t<p className=\"empty-state\">\n\t\t\t\t\t{__('This chart is not currently used in any posts.', 'prc-chart-builder')}\n\t\t\t\t</p>\n\t\t\t)}\n\n\t\t\t{!isLoading && !error && referencingPosts.length > 0 && (\n\t\t\t\t<div>\n\t\t\t\t\t<p className=\"posts-list-header\">\n\t\t\t\t\t\t{referencingPosts.length === 1\n\t\t\t\t\t\t\t? __('This chart is used in 1 post:', 'prc-chart-builder')\n\t\t\t\t\t\t\t: `${__('This chart is used in', 'prc-chart-builder')} ${referencingPosts.length} ${__('posts:', 'prc-chart-builder')}`\n\t\t\t\t\t\t}\n\t\t\t\t\t</p>\n\t\t\t\t\t{referencingPosts.map((post) => (\n\t\t\t\t\t\t<ReferencingPostItem key={post.id} post={post} />\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</PluginDocumentSettingPanel>\n\t);\n}\n\n// Register the plugin\nregisterPlugin('prc-chart-builder-inspector-panel', {\n\trender: ChartInspectorPanel,\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","ReferencingPostItem","post","_jsx","className","children","_jsxs","ExternalLink","href","edit_url","title","__","status","statusLabel","publish","draft","private","pending","future","getStatusBadge","postType","type","page","feature","quiz","id","permalink","registerPlugin","render","referencingPosts","setReferencingPosts","useState","isLoading","setIsLoading","error","setError","postId","useSelect","select","editorStore","getCurrentPostId","getCurrentPostType","useEffect","apiFetch","path","then","posts","catch","fetchError","message","PluginDocumentSettingPanel","name","Spinner","Notice","isDismissible","length","map"],"sourceRoot":""}