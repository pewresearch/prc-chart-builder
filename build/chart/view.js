import*as e from"@wordpress/interactivity";var t={438:e=>{e.exports=import("@wordpress/interactivity-router")}},a={};function i(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const o=(h={getContext:()=>e.getContext,getServerState:()=>e.getServerState,store:()=>e.store},u={},i.d(u,h),u),r={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]},l=e=>e.split(",").map(Number).filter((e=>!Number.isNaN(e))),n=(e,t,a,i,o)=>Number.isNaN(e)||Number.isNaN(t)?[0,100]:"bar"===a&&"x"===o||"stacked-bar"===a&&"x"===o||"dot-plot"===a&&"x"===o||"pie"===a?null:"time"===i&&"x"===o?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)],s=(e,t)=>"time"===t?e.map((e=>new Date(`${e}`))):e,{ChartBuilderBaseConfig:d}=window.prcChartBuilder,c=d,{ChartBuilderRenderer:m}=window.prcChartBuilder,{actions:p,state:b}=(0,o.store)("prc-block/chart-builder",{actions:{renderChart(){const e=(0,o.getServerState)(),t=(0,o.getContext)(),{id:a,attributes:i}=t,d=e[a]["chart-data"],p=e[a]["table-data"];console.log("TABLE DATA: ",t,b);const h=((e,t,a=null)=>{const{chartType:i,chartOrientation:o,paddingTop:d,paddingRight:m,paddingBottom:p,paddingLeft:b,height:h,width:u,overflowX:g,mobileBreakpoint:k,horizontalRules:x,parentClass:f}=e,{metaTextActive:A,metaTitle:C,metaSubtitle:y,metaNote:D,metaSource:S,metaTag:v}=e,{showXMinDomainLabel:B,xAbbreviateTicks:F,xAbbreviateTicksDecimals:L,xTicksToLocaleString:E,xAxisActive:T,xAxisStroke:w,xGridStroke:P,xGridStrokeDasharray:W,xGridOpacity:O,xLabel:z,xLabelFontSize:M,xLabelTextFill:V,xLabelPadding:G,xLabelMaxWidth:N,xMaxDomain:U,xMinDomain:R,xScale:X,xDateFormat:H,xTickExact:Y,xTickLabelAngle:I,xTickLabelMaxWidth:j,xTickLabelDX:$,xTickLabelDY:K,xTickLabelTextAnchor:Z,xTickLabelVerticalAnchor:q,xTickMarksActive:J,xTickNum:Q,xTickUnit:_,xTickUnitPosition:ee}=e,{yAxisStroke:te,yGridStroke:ae,yGridStrokeDasharray:ie,yGridOpacity:oe,yAxisActive:re,yScale:le,yScaleFormat:ne,yLabel:se,yLabelFontSize:de,yLabelTextFill:ce,yLabelPadding:me,yLabelMaxWidth:pe,yMinDomain:be,yMaxDomain:he,showYMinDomainLabel:ue,yTickMarksActive:ge,yTickNum:ke,yTickExact:xe,yTickUnit:fe,yTickUnitPosition:Ae,yTickLabelAngle:Ce,yTickLabelMaxWidth:ye,yTickLabelVerticalAnchor:De,yTickLabelTextAnchor:Se,yTickLabelDY:ve,yTickLabelDX:Be,yAbbreviateTicks:Fe,yAbbreviateTicksDecimals:Le,yTicksToLocaleString:Ee}=e,{labelsActive:Te,showFirstLastPointsOnly:we,labelPositionDX:Pe,labelPositionDY:We,labelAbsoluteValue:Oe,labelFormatValue:ze,labelUnit:Me,labelUnitPosition:Ve,barLabelPosition:Ge,barLabelCutoff:Ne,barLabelCutoffMobile:Ue,labelColor:Re,labelFontSize:Xe,labelFontWeight:He,labelTruncateDecimal:Ye,labelToFixedDecimal:Ie}=e,{legendActive:je,legendOrientation:$e,legendCategories:Ke,legendTitle:Ze,legendOffsetX:qe,legendOffsetY:Je,legendAlignment:Qe,legendMarkerStyle:_e,legendBorderStroke:et,legendFill:tt,legendLabelDelimiter:at,legendLabelLower:it,legendLabelUpper:ot}=e,{tooltipActive:rt,tooltipActiveOnMobile:lt,tooltipHeaderActive:nt,tooltipHeaderValue:st,tooltipMaxHeight:dt,tooltipMaxWidth:ct,tooltipMinWidth:mt,tooltipMinHeight:pt,tooltipOffsetX:bt,tooltipOffsetY:ht,tooltipFormat:ut,tooltipDateFormat:gt,tooltipFormatValue:kt,tooltipAbsoluteValue:xt,deemphasizeSiblings:ft,deemphasizeOpacity:At}=e,{pieCategoryLabelsActive:Ct}=e,{barPadding:yt,barGroupPadding:Dt}=e,{positiveCategories:St,negativeCategories:vt,neutralCategory:Bt,divergingBarPercentOfInnerWidth:Ft,neutralBarSeparator:Lt,neutralBarActive:Et,neutralBarOffsetX:Tt,neutralBarSeparatorOffsetX:wt}=e,{dotPlotConnectPoints:Pt,dotPlotConnectPointsStroke:Wt,dotPlotConnectPointsStrokeWidth:Ot,dotPlotConnectPointsStrokeDasharray:zt}=e,{lineStrokeDashArray:Mt,lineInterpolation:Vt,lineStrokeWidth:Gt,lineNodes:Nt,nodeSize:Ut,nodeStrokeWidth:Rt,nodeFill:Xt,areaFillOpacity:Ht}=e,{explodedBarColumnGap:Yt}=e,{plotBandsActive:It,plotBands:jt}=e,{diffColumnActive:$t,diffColumnCategory:Kt,diffColumnHeader:Zt,diffColumnMarginLeft:qt,diffColumnBackgroundColor:Jt,diffColumnHeightOffset:Qt,diffColumnWidth:_t,diffColumnAppearance:ea}=e,{colorValue:ta,customColors:aa,elementHasStroke:ia}=e,{sortOrder:oa,categories:ra,availableCategories:la,dateInputFormat:na,sortKey:sa}=e,{mapShowCountyBoundaries:da,mapShowStateBoundaries:ca,mapPathBackgroundFill:ma,mapPathStroke:pa,mapBlockRectSize:ba,mapIgnoreSmallStateLabels:ha,mapScale:ua,mapScaleDomain:ga}=e,{isCustomChart:ka,customAttributes:xa}=e,fa=l(Y),Aa=l(xe);return{...c,layout:{...c.layout,name:`chart-builder-chart-${t}`,parentClass:f,type:"area"===i?"line":i,orientation:o,width:u,height:h,overflowX:g,padding:{top:d,bottom:p,left:b,right:m},horizontalRules:x,mobileBreakpoint:k},metadata:{...c.metadata,active:A,title:C,subtitle:y,note:D,source:S,tag:v},colors:0<aa.length?aa:r[ta],plotBands:{...c.plotBands,active:It,bands:jt},independentAxis:{...c.independentAxis,active:T,label:z,scale:X,dateFormat:H,domain:n(R,U,i,X,"x"),showZero:B,tickCount:Q,tickValues:1>=fa.length?null:s(fa,X),tickUnit:_,tickUnitPosition:ee,tickFormat:null,abbreviateTicks:F,abbreviateTicksDecimals:L,ticksToLocaleString:E,tickLabels:{...c.independentAxis.tickLabels,angle:I,verticalAnchor:q,textAnchor:Z,dy:K,dx:$,fontSize:M,padding:0,fill:V,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:j},axisLabel:{...c.independentAxis.axisLabel,fontSize:M,fill:V,padding:G,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:N},axis:{...c.independentAxis.axis,stroke:w,strokeWidth:1},ticks:{...c.independentAxis.ticks,stroke:w,size:J?5:0,strokeWidth:1},grid:{...c.independentAxis.grid,stroke:P,strokeOpacity:O,strokeWidth:1,strokeDasharray:W}},dependentAxis:{...c.dependentAxis,active:re,label:se,scale:le,domain:n(be,he,i,le,"y"),showZero:ue,tickCount:ke,tickValues:1>=Aa.length?null:s(Aa,le),tickUnit:fe,tickUnitPosition:Ae,tickAngle:Ce,tickFormat:null,abbreviateTicks:Fe,abbreviateTicksDecimals:Le,ticksToLocaleString:Ee,customTickFormat:null,tickLabels:{...c.dependentAxis.tickLabels,angle:Ce,verticalAnchor:De,textAnchor:Se,dy:ve,dx:Be,fontSize:de,fill:ce,padding:15,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:ye},axisLabel:{...c.dependentAxis.axisLabel,fontSize:de,fill:ce,padding:me,angle:270,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:pe},ticks:{...c.dependentAxis.ticks,stroke:te,size:ge?5:0,strokeWidth:1},axis:{...c.dependentAxis.axis,stroke:te,strokeWidth:1},grid:{...c.dependentAxis.grid,stroke:ae,strokeOpacity:oe,strokeWidth:1,strokeDasharray:ie}},dataRender:{...c.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:sa,sortOrder:oa,categories:0<ra.length?ra:la,xScale:X,yScale:le,mapScale:ua,mapScaleDomain:ga,xFormat:na,yFormat:ne,numberFormat:"en-US",isHighlightedColor:"#ECDBAC"},animate:{active:!1,animationWhitelist:[],duration:2e3},events:{...c.events,click:a},tooltip:{...c.tooltip,active:rt,activeOnMobile:lt,deemphasizeSiblings:ft,deemphasizeOpacity:At,headerActive:nt,headerValue:st,format:ut,offsetX:bt,offsetY:ht,abbreviateValue:!1,absoluteValue:xt,toFixedDecimal:0,toLocaleString:kt,customFormat:null,rlsFormat:!1,dateFormat:gt,style:{...c.tooltip.style,maxWidth:ct,maxHeight:dt,minHeight:pt,minWidth:mt,width:"auto",height:"auto",fontSize:"13px",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",background:"white",border:"1px solid #CBCBCB",padding:"10px",borderRadius:"0px",color:"black"}},legend:{...c.legend,active:je,orientation:$e,categories:Ke||ra,title:Ze,offsetX:qe,offsetY:Je,alignment:Qe,markerStyle:_e,borderStroke:et,fill:tt,labelDelimiter:at,labelLower:it,labelUpper:ot},bar:{...c.bar,hasRectStroke:ia,barPadding:yt,barGroupPadding:Dt},line:{...c.line,interpolation:Vt,strokeDasharray:Mt,strokeWidth:Gt,showPoints:Nt,showArea:"area"===i,areaFillOpacity:Ht},dotPlot:{...c.dotPlot,connectPoints:Pt,connectingLine:{...c.dotPlot.connectingLine,stroke:Wt,strokeWidth:Ot,strokeDasharray:zt,strokeOpacity:1}},pie:{...c.pie,hasPathStroke:ia,pathStrokeColor:"white",pathStrokeWidth:1,showCategoryLabels:Ct},explodedBar:{...c.explodedBar,columnGap:Yt},map:{...c.map,ignoreSmallStateLabels:ha,showCountyBoundaries:da,showStateBoundaries:ca,pathBackgroundFill:ma,pathStroke:pa,blockRectSize:ba},nodes:{...c.nodes,pointSize:Ut,pointFill:Xt,pointStrokeWidth:Rt,pointCustomSize:null},labels:{...c.labels,active:Te,showFirstLastPointsOnly:we,color:Re,fontWeight:He,fontSize:Xe,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",labelPositionBar:Ge,labelCutoff:Ne,labelCutoffMobile:Ue,labelPositionDX:Pe,labelPositionDY:We,pieLabelRadius:60,abbreviateValue:!1,toLocaleString:ze,absoluteValue:Oe,truncateDecimal:Ye,toFixedDecimal:Ie,labelUnit:Me,labelUnitPosition:Ve,textAnchor:"middle",customLabelFormat:null},voronoi:{...c.voronoi,active:!1,fill:"#756a7e",stroke:"#ccc",strokeWidth:1,strokeOpacity:.5},regression:{...c.regression,active:!1,type:"linear",stroke:"#2a2a2a",strokeWidth:2,strokeDasharray:"1"},divergingBar:{...c.divergingBar,positiveCategories:St,negativeCategories:vt,netPositiveCategory:"y4",netNegativeCategory:"y5",percentOfInnerWidth:Ft/100,neutralBar:{...c.divergingBar.neutralBar,category:Bt,offsetX:Tt,active:Et&&!!Bt&&0<Bt.length,separator:Lt,separatorOffsetX:wt}},diffColumn:{...c.diffColumn,active:$t,category:Kt,columnHeader:Zt,style:{...c.diffColumn.style,rectStrokeWidth:0,rectStrokeColor:"white",rectFill:Jt,fontWeight:"bold"===ea||"bold-italic"===ea?"bold":"normal",fontStyle:"italic"===ea||"bold-italic"===ea?"italic":"normal",headerFontSize:"12px",marginLeft:qt,width:_t,heightOffset:Qt}},custom:{isCustomChart:ka,attributes:{...xa}}}})(i,a);console.log("CONFIG: ",h),m(a,d,h,p)},*updateData(e){const t=`${window.location.href}?chartBuilderFilterParam=${e}`,a=yield Promise.resolve().then(i.bind(i,438));yield a.actions.navigate(t)}},callbacks:{onRun:()=>{p.renderChart()},watchForRender:()=>{const e=(0,o.getContext)(),{id:t}=e,a=b[t]["should-render"];console.log("SHOULD RENDER: ",a,e),a&&p.renderChart()}}});var h,u;
//# sourceMappingURL=view.js.map