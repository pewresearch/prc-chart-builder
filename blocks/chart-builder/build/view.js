(()=>{"use strict";var e={251:(e,t,a)=>{var i=a(196),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var i,r={},c=null,d=null;for(i in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,i)&&!s.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:o,type:e,key:c,ref:d,props:r,_owner:l.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},893:(e,t,a)=>{e.exports=a(251)},196:e=>{e.exports=window.React}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.wp.domReady;var t=a.n(e);const i=window.wp.element,o=window.wp.url,r=window.prcChartBuilder,n=window.prcFunctions,l={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]};window.wp.apiFetch;const s=e=>e.split(",").map(Number).filter((e=>!Number.isNaN(e))),c=(e,t,a,i,o)=>Number.isNaN(e)||Number.isNaN(t)?[0,100]:"bar"===a&&"x"===o||"stacked-bar"===a&&"x"===o||"dot-plot"===a&&"x"===o||"pie"===a?null:"time"===i&&"x"===o?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)],d=(e,t)=>"time"===t?e.map((e=>new Date(`${e}`))):e;var u=a(893);const m=(0,u.jsxs)("svg",{width:"10",height:"10",viewBox:"0 0 44 44","aria-hidden":"true",focusable:"false",children:[(0,u.jsx)("path",{d:"M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"}),(0,u.jsx)("path",{d:"M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"})]}),h=({onClickFacebook:e,onClickTwitter:t,pngAttrs:a,elementId:i})=>{function o(e){document.querySelector(`#modal-overlay-${e}`).classList.remove("active"),document.querySelector(`#modal-${e}`).classList.remove("active")}const{id:r,url:n}=a;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"share-modal__overlay",id:`modal-overlay-${i}`,onClick:e=>{e.preventDefault(),o(i)}}),(0,u.jsx)("div",{className:"share-modal",id:`modal-${i}`,children:(0,u.jsxs)("div",{className:"share-modal__inner",children:[(0,u.jsxs)("div",{className:"share-modal__header",children:[(0,u.jsx)("h2",{className:"share-modal__title",children:"Share this chart:"}),(0,u.jsx)("button",{type:"button","aria-label":"Close",className:"share-modal__close",onClick:e=>{e.preventDefault(),o(i)},children:m})]}),(0,u.jsxs)("div",{className:"share-modal__body",children:[(0,u.jsx)("button",{className:"share-modal__button share-modal__button--twitter",onClick:t,children:(0,u.jsx)("span",{children:"Share on Twitter"})}),(0,u.jsx)("button",{className:"share-modal__button share-modal__button--facebook",onClick:e,children:(0,u.jsx)("span",{children:"Share on Facebook"})}),a.id&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("a",{className:"share-modal__download-png",href:n,download:`chart-${r}.png`,children:(0,u.jsx)("span",{children:"Download .png image"})})})]})]})})]})};new DOMParser;const{innerWidth:b,innerHeight:p}=window,g=()=>{document.querySelectorAll(".wp-chart-builder-wrapper").forEach((e=>{const t=e.querySelector(".wp-chart-builder-inner"),a=(e=>{const t=e.dataset.chartHash,a=window.chartConfigs[t],i=((e,t,a="wp-chart-builder-wrapper")=>{const{chartType:i,chartOrientation:o,paddingTop:n,paddingRight:u,paddingBottom:m,paddingLeft:h,height:b,width:p,horizontalRules:g}=e,{metaTextActive:f,metaTitle:x,metaSubtitle:v,metaNote:y,metaSource:k,metaTag:C}=e,{showXMinDomainLabel:w,xAbbreviateTicks:A,xAbbreviateTicksDecimals:S,xTicksToLocaleString:L,xAxisActive:D,xAxisStroke:F,xGridStroke:E,xGridStrokeDasharray:T,xGridOpacity:B,xLabel:P,xLabelFontSize:_,xLabelTextFill:O,xLabelPadding:W,xLabelMaxWidth:j,xMaxDomain:N,xMinDomain:$,xScale:q,xDateFormat:U,xTickExact:M,xTickLabelAngle:z,xTickLabelMaxWidth:I,xTickLabelDX:V,xTickLabelDY:R,xTickLabelTextAnchor:G,xTickLabelVerticalAnchor:H,xTickMarksActive:X,xTickNum:Y,xTickUnit:Z,xTickUnitPosition:K}=e,{yAxisStroke:Q,yGridStroke:J,yGridStrokeDasharray:ee,yGridOpacity:te,yAxisActive:ae,yScale:ie,yScaleFormat:oe,yLabel:re,yLabelFontSize:ne,yLabelTextFill:le,yLabelPadding:se,yLabelMaxWidth:ce,yMinDomain:de,yMaxDomain:ue,showYMinDomainLabel:me,yTickMarksActive:he,yTickNum:be,yTickExact:pe,yTickUnit:ge,yTickUnitPosition:fe,yTickLabelAngle:xe,yTickLabelMaxWidth:ve,yTickLabelVerticalAnchor:ye,yTickLabelTextAnchor:ke,yTickLabelDY:Ce,yTickLabelDX:we,yAbbreviateTicks:Ae,yAbbreviateTicksDecimals:Se,yTicksToLocaleString:Le}=e,{labelsActive:De,showFirstLastPointsOnly:Fe,labelPositionDX:Ee,labelPositionDY:Te,labelAbsoluteValue:Be,labelFormatValue:Pe,labelUnit:_e,labelUnitPosition:Oe,barLabelPosition:We,barLabelCutoff:je,barLabelCutoffMobile:Ne,labelColor:$e,labelFontSize:qe,labelFontWeight:Ue,labelTruncateDecimal:Me,labelToFixedDecimal:ze}=e,{legendActive:Ie,legendOrientation:Ve,legendCategories:Re,legendTitle:Ge,legendOffsetX:He,legendOffsetY:Xe,legendAlignment:Ye,legendMarkerStyle:Ze,legendBorderStroke:Ke,legendFill:Qe}=e,{tooltipActive:Je,tooltipHeaderActive:et,tooltipHeaderValue:tt,tooltipMaxHeight:at,tooltipMaxWidth:it,tooltipMinWidth:ot,tooltipMinHeight:rt,tooltipOffsetX:nt,tooltipOffsetY:lt,tooltipFormat:st,tooltipDateFormat:ct,tooltipFormatValue:dt,tooltipAbsoluteValue:ut,deemphasizeSiblings:mt,deemphasizeOpacity:ht}=e,{pieCategoryLabelsActive:bt}=e,{barPadding:pt,barGroupPadding:gt}=e,{positiveCategories:ft,negativeCategories:xt,neutralCategory:vt,divergingBarPercentOfInnerWidth:yt,neutralBarSeparator:kt,neutralBarActive:Ct,neutralBarOffsetX:wt,neutralBarSeparatorOffsetX:At}=e,{dotPlotConnectPoints:St,dotPlotConnectPointsStroke:Lt,dotPlotConnectPointsStrokeWidth:Dt,dotPlotConnectPointsStrokeDasharray:Ft}=e,{lineStrokeDashArray:Et,lineInterpolation:Tt,lineStrokeWidth:Bt,lineNodes:Pt,nodeSize:_t,nodeStroke:Ot,nodeFill:Wt,areaFillOpacity:jt}=e,{explodedBarColumnGap:Nt}=e,{plotBandsActive:$t,plotBands:qt}=e,{diffColumnActive:Ut,diffColumnCategory:Mt,diffColumnHeader:zt,diffColumnMarginLeft:It,diffColumnBackgroundColor:Vt,diffColumnHeightOffset:Rt,diffColumnWidth:Gt,diffColumnAppearance:Ht}=e,{colorValue:Xt,customColors:Yt,elementHasStroke:Zt}=e,{sortOrder:Kt,categories:Qt,availableCategories:Jt,dateInputFormat:ea,sortKey:ta}=e,aa=s(M),ia=s(pe);return{...r.baseConfig,layout:{...r.baseConfig.layout,name:`chart-builder-chart-${t}`,parentClass:a,type:"area"===i?"line":i,orientation:o,width:p,height:b,padding:{top:n,bottom:m,left:h,right:u},horizontalRules:g},metadata:{...r.baseConfig.metadata,active:f,title:x,subtitle:v,note:y,source:k,tag:C},colors:0<Yt.length?Yt:l[Xt],plotBands:{...r.baseConfig.plotBands,active:$t,bands:qt},independentAxis:{...r.baseConfig.independentAxis,active:D,label:P,scale:q,dateFormat:U,domain:c($,N,i,q,"x"),showZero:w,tickCount:Y,tickValues:1>=aa.length?null:d(aa,q),tickUnit:Z,tickUnitPosition:K,tickFormat:null,abbreviateTicks:A,abbreviateTicksDecimals:S,ticksToLocaleString:L,tickLabels:{...r.baseConfig.independentAxis.tickLabels,angle:z,verticalAnchor:H,textAnchor:G,dy:R,dx:V,fontSize:_,padding:0,fill:O,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:I},axisLabel:{...r.baseConfig.independentAxis.axisLabel,fontSize:_,fill:O,padding:W,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:j},axis:{...r.baseConfig.independentAxis.axis,stroke:F,strokeWidth:1},ticks:{...r.baseConfig.independentAxis.ticks,stroke:F,size:X?5:0,strokeWidth:1},grid:{...r.baseConfig.independentAxis.grid,stroke:E,strokeOpacity:B,strokeWidth:1,strokeDasharray:T}},dependentAxis:{...r.baseConfig.dependentAxis,active:ae,label:re,scale:ie,domain:c(de,ue,i,ie,"y"),showZero:me,tickCount:be,tickValues:1>=ia.length?null:d(ia,ie),tickUnit:ge,tickUnitPosition:fe,tickAngle:xe,tickFormat:null,abbreviateTicks:Ae,abbreviateTicksDecimals:Se,ticksToLocaleString:Le,customTickFormat:null,tickLabels:{...r.baseConfig.dependentAxis.tickLabels,angle:xe,verticalAnchor:ye,textAnchor:ke,dy:Ce,dx:we,fontSize:ne,fill:le,padding:15,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:ve},axisLabel:{...r.baseConfig.dependentAxis.axisLabel,fontSize:ne,fill:le,padding:se,angle:270,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:ce},ticks:{...r.baseConfig.dependentAxis.ticks,stroke:Q,size:he?5:0,strokeWidth:1},axis:{...r.baseConfig.dependentAxis.axis,stroke:Q,strokeWidth:1},grid:{...r.baseConfig.dependentAxis.grid,stroke:J,strokeOpacity:te,strokeWidth:1,strokeDasharray:ee}},dataRender:{...r.baseConfig.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:ta,sortOrder:Kt,categories:0<Qt.length?Qt:Jt,xScale:q,yScale:ie,xFormat:ea,yFormat:oe,numberFormat:"en-US",isHighlightedColor:"#ECDBAC"},animate:{active:!1,animationWhitelist:[],duration:2e3},tooltip:{...r.baseConfig.tooltip,active:Je,deemphasizeSiblings:mt,deemphasizeOpacity:ht,headerActive:et,headerValue:tt,format:st,offsetX:nt,offsetY:lt,abbreviateValue:!1,absoluteValue:ut,toFixedDecimal:0,toLocaleString:dt,customFormat:null,rlsFormat:!1,dateFormat:ct,style:{...r.baseConfig.tooltip.style,maxWidth:it,maxHeight:at,minHeight:rt,minWidth:ot,width:"auto",height:"auto",fontSize:"13px",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",background:"white",border:"1px solid #CBCBCB",padding:"10px",borderRadius:"0px",color:"black"}},legend:{...r.baseConfig.legend,active:Ie,orientation:Ve,categories:Re||Qt,title:Ge,offsetX:He,offsetY:Xe,alignment:Ye,markerStyle:Ze,borderStroke:Ke,fill:Qe},bar:{...r.baseConfig.bar,hasRectStroke:Zt,barPadding:pt,barGroupPadding:gt},line:{...r.baseConfig.line,interpolation:Tt,strokeDasharray:Et,strokeWidth:Bt,showPoints:Pt,showArea:"area"===i,areaFillOpacity:jt},dotPlot:{...r.baseConfig.dotPlot,connectPoints:St,connectingLine:{...r.baseConfig.dotPlot.connectingLine,stroke:Lt,strokeWidth:Dt,strokeDasharray:Ft,strokeOpacity:1}},pie:{...r.baseConfig.pie,hasPathStroke:Zt,pathStrokeColor:"white",pathStrokeWidth:1,showCategoryLabels:bt},explodedBar:{...r.baseConfig.explodedBar,columnGap:Nt},nodes:{...r.baseConfig.nodes,pointSize:_t,pointFill:Wt,pointStrokeWidth:1,pointStroke:Ot,pointCustomSize:null},labels:{...r.baseConfig.labels,active:De,showFirstLastPointsOnly:Fe,color:$e,fontWeight:Ue,fontSize:qe,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",labelPositionBar:We,labelCutoff:je,labelCutoffMobile:Ne,labelPositionDX:Ee,labelPositionDY:Te,pieLabelRadius:60,abbreviateValue:!1,toLocaleString:Pe,absoluteValue:Be,truncateDecimal:Me,toFixedDecimal:ze,labelUnit:_e,labelUnitPosition:Oe,textAnchor:"middle",customLabelFormat:null},voronoi:{...r.baseConfig.voronoi,active:!1,fill:"#756a7e",stroke:"#ccc",strokeWidth:1,strokeOpacity:.5},regression:{...r.baseConfig.regression,active:!1,type:"linear",stroke:"#2a2a2a",strokeWidth:2,strokeDasharray:"1"},divergingBar:{...r.baseConfig.divergingBar,positiveCategories:ft,negativeCategories:xt,netPositiveCategory:"y4",netNegativeCategory:"y5",percentOfInnerWidth:yt/100,neutralBar:{...r.baseConfig.divergingBar.neutralBar,category:vt,offsetX:wt,active:Ct&&!!vt&&0<vt.length,separator:kt,separatorOffsetX:At}},diffColumn:{...r.baseConfig.diffColumn,active:Ut,category:Mt,columnHeader:zt,style:{...r.baseConfig.diffColumn.style,rectStrokeWidth:0,rectStrokeColor:"white",rectFill:Vt,fontWeight:"bold"===Ht||"bold-italic"===Ht?"bold":"normal",fontStyle:"italic"===Ht||"bold-italic"===Ht?"italic":"normal",headerFontSize:"12px",marginLeft:It,width:Gt,heightOffset:Rt}}}})(a,t,"wp-chart-builder-wrapper"),{isStaticChart:o,staticImageId:n,staticImageUrl:u,staticImageAltText:m}=a;return{...i,staticImageId:n,staticImageUrl:u,isStaticChart:o,staticImageAltText:m}})(t),m=t.dataset.chartHash,g=e.querySelector(".wp-chart-builder-table"),f=e.querySelector(".wp-chart-builder-download"),x=e.querySelector(".download-svg"),v=e.querySelector(".wp-chart-builder-view-buttons"),{isStaticChart:y,staticImageId:k,staticImageUrl:C}=a,{postId:w,postUrl:A,postPubDate:S}=t.dataset,L={url:y?C:window.chartConfigs[m].pngUrl,id:y?k:window.chartConfigs[m].pngId},D=window.tableData[m],F=window.chartPreformattedData[m],{chartData:E}=window.chartConfigs[m],T=F||E,B=!!(D&&!D.errors&&D.rows.length>0)&&(0,n.arrayToCSV)([D.header,...D.rows],{title:a.metadata.title,subtitle:a.metadata.subtitle,note:a.metadata.note,source:a.metadata.source,tag:a.metadata.tag});f&&B&&f.addEventListener("click",(e=>{e.preventDefault();const t=new Blob([B],{type:"text/csv"}),i=URL.createObjectURL(t),o=document.createElement("a"),r=a.metadata.title.toLowerCase().replace(/\s+/g,"_");o.setAttribute("href",i),o.setAttribute("download",`${r}_data_${S}.csv`),o.click(),e.stopPropagation()})),x&&x.addEventListener("click",(e=>(e=>{const t=document.querySelector(`[data-chart-hash="${e}"]`).querySelector("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const a=new Blob([t.outerHTML],{type:"image/svg+xml"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`chart-${e}.svg`,document.body.appendChild(o),o.click(),document.body.removeChild(o)})(m))),((e,t,a,i)=>{e&&e.querySelector(".view-button--chart")&&e.querySelector(".view-button--chart").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--chart").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.remove("active"),document.querySelector(`#modal-${i}`).classList.remove("active")})),e&&e.querySelector(".view-button--table")&&e.querySelector(".view-button--table").addEventListener("click",(()=>{t.classList.add("active"),a.classList.remove("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--table").classList.add("active")})),e&&e.querySelector(".view-button--share")&&e.querySelector(".view-button--share").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--share").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.add("active"),document.querySelector(`#modal-${i}`).classList.add("active")}))})(v,g,t,m),(0,i.render)((0,u.jsx)("figure",{children:(0,u.jsxs)(r.ChartBuilderTextWrapper,{active:a.metadata.active,width:a.layout.width,horizontalRules:a.layout.horizontalRules,title:a.metadata.title,subtitle:a.metadata.subtitle,note:a.metadata.note,source:a.metadata.source,tag:a.metadata.tag,children:[y&&(0,u.jsx)("img",{className:"cb__static-img",src:L.url,alt:a.staticImageAltText}),!y&&(0,u.jsx)(r.ChartBuilderWrapper,{config:a,data:T}),(0,u.jsx)(h,{onClickFacebook:e=>((e,t,a,i,r)=>{e.preventDefault();const n=(0,o.addQueryArgs)("https://www.facebook.com/sharer/sharer.php",{u:r.id?`${a}/share/${i}/${r.id}`:t});window.open(n,"fbShareWindow",`height=450, width=550, top=${p/2-275}, left=${b/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,A,rootUrl,w,L),onClickTwitter:e=>((e,t,a,i,r,n)=>{e.preventDefault();const l=(0,o.addQueryArgs)("https://twitter.com/intent/tweet",{text:n,url:r.id?`${a}/share/${i}/${r.id}`:t});window.open(l,"twtrShareWindow",`height=450, width=550, top=${p/2-275}, left=${b/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,A,rootUrl,w,L,a.metadata.title),pngAttrs:L,elementId:m})]})}),t)}))};t()((()=>{g()}))})()})();
//# sourceMappingURL=view.js.map