(()=>{"use strict";var e={338:(e,t,a)=>{var i=a(795);t.H=i.createRoot,i.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const i=window.React,o=window.wp.domReady;var r=a.n(o);const l=window.wp.url,n=window.prcChartBuilder,s=window.prcFunctions;var c=a(338);const d={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]};window.wp.apiFetch;const m=e=>e.split(",").map(Number).filter((e=>!Number.isNaN(e))),b=(e,t,a,i,o)=>Number.isNaN(e)||Number.isNaN(t)?[0,100]:"bar"===a&&"x"===o||"stacked-bar"===a&&"x"===o||"dot-plot"===a&&"x"===o||"pie"===a?null:"time"===i&&"x"===o?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)],u=(e,t)=>"time"===t?e.map((e=>new Date(`${e}`))):e,h=(0,i.createElement)("svg",{width:"10",height:"10",viewBox:"0 0 44 44","aria-hidden":"true",focusable:"false"},(0,i.createElement)("path",{d:"M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"}),(0,i.createElement)("path",{d:"M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"})),p=({onClickFacebook:e,onClickTwitter:t,pngAttrs:a,elementId:o})=>{function r(e){document.querySelector(`#modal-overlay-${e}`).classList.remove("active"),document.querySelector(`#modal-${e}`).classList.remove("active")}const{id:l,url:n}=a;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:"share-modal__overlay",id:`modal-overlay-${o}`,onClick:e=>{e.preventDefault(),r(o)}}),(0,i.createElement)("div",{className:"share-modal",id:`modal-${o}`},(0,i.createElement)("div",{className:"share-modal__inner"},(0,i.createElement)("div",{className:"share-modal__header"},(0,i.createElement)("h2",{className:"share-modal__title"},"Share this chart:"),(0,i.createElement)("button",{type:"button","aria-label":"Close",className:"share-modal__close",onClick:e=>{e.preventDefault(),r(o)}},h)),(0,i.createElement)("div",{className:"share-modal__body"},(0,i.createElement)("button",{type:"button",className:"share-modal__button share-modal__button--twitter",onClick:t},(0,i.createElement)("span",null,"Share on X")),(0,i.createElement)("button",{type:"button",className:"share-modal__button share-modal__button--facebook",onClick:e},(0,i.createElement)("span",null,"Share on Facebook")),a.id&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)("a",{className:"share-modal__download-png",href:n,download:`chart-${l}.png`},(0,i.createElement)("span",null,"Download .png image")))))))};new DOMParser;const{innerWidth:g,innerHeight:f}=window,v=()=>{document.querySelectorAll(".wp-chart-builder-wrapper").forEach((e=>{const t=e.querySelector(".wp-chart-builder-inner"),a=(0,c.H)(t),o=(e=>{const t=e.dataset.chartHash,a=window.chartConfigs[t],i=((e,t,a="wp-chart-builder-wrapper",i=null)=>{const{chartType:o,chartOrientation:r,paddingTop:l,paddingRight:s,paddingBottom:c,paddingLeft:h,height:p,width:g,overflowX:f,mobileBreakpoint:v,horizontalRules:k}=e,{metaTextActive:C,metaTitle:y,metaSubtitle:w,metaNote:x,metaSource:A,metaTag:S}=e,{showXMinDomainLabel:L,xAbbreviateTicks:D,xAbbreviateTicksDecimals:E,xTicksToLocaleString:F,xAxisActive:B,xAxisStroke:T,xGridStroke:P,xGridStrokeDasharray:W,xGridOpacity:O,xLabel:_,xLabelFontSize:M,xLabelTextFill:q,xLabelPadding:N,xLabelMaxWidth:z,xMaxDomain:U,xMinDomain:$,xScale:V,xDateFormat:I,xTickExact:R,xTickLabelAngle:H,xTickLabelMaxWidth:G,xTickLabelDX:X,xTickLabelDY:Y,xTickLabelTextAnchor:j,xTickLabelVerticalAnchor:Z,xTickMarksActive:K,xTickNum:Q,xTickUnit:J,xTickUnitPosition:ee}=e,{yAxisStroke:te,yGridStroke:ae,yGridStrokeDasharray:ie,yGridOpacity:oe,yAxisActive:re,yScale:le,yScaleFormat:ne,yLabel:se,yLabelFontSize:ce,yLabelTextFill:de,yLabelPadding:me,yLabelMaxWidth:be,yMinDomain:ue,yMaxDomain:he,showYMinDomainLabel:pe,yTickMarksActive:ge,yTickNum:fe,yTickExact:ve,yTickUnit:ke,yTickUnitPosition:Ce,yTickLabelAngle:ye,yTickLabelMaxWidth:we,yTickLabelVerticalAnchor:xe,yTickLabelTextAnchor:Ae,yTickLabelDY:Se,yTickLabelDX:Le,yAbbreviateTicks:De,yAbbreviateTicksDecimals:Ee,yTicksToLocaleString:Fe}=e,{labelsActive:Be,showFirstLastPointsOnly:Te,labelPositionDX:Pe,labelPositionDY:We,labelAbsoluteValue:Oe,labelFormatValue:_e,labelUnit:Me,labelUnitPosition:qe,barLabelPosition:Ne,barLabelCutoff:ze,barLabelCutoffMobile:Ue,labelColor:$e,labelFontSize:Ve,labelFontWeight:Ie,labelTruncateDecimal:Re,labelToFixedDecimal:He}=e,{legendActive:Ge,legendOrientation:Xe,legendCategories:Ye,legendTitle:je,legendOffsetX:Ze,legendOffsetY:Ke,legendAlignment:Qe,legendMarkerStyle:Je,legendBorderStroke:et,legendFill:tt,legendLabelDelimiter:at,legendLabelLower:it,legendLabelUpper:ot}=e,{tooltipActive:rt,tooltipActiveOnMobile:lt,tooltipHeaderActive:nt,tooltipHeaderValue:st,tooltipMaxHeight:ct,tooltipMaxWidth:dt,tooltipMinWidth:mt,tooltipMinHeight:bt,tooltipOffsetX:ut,tooltipOffsetY:ht,tooltipFormat:pt,tooltipDateFormat:gt,tooltipFormatValue:ft,tooltipAbsoluteValue:vt,deemphasizeSiblings:kt,deemphasizeOpacity:Ct}=e,{pieCategoryLabelsActive:yt}=e,{barPadding:wt,barGroupPadding:xt}=e,{positiveCategories:At,negativeCategories:St,neutralCategory:Lt,divergingBarPercentOfInnerWidth:Dt,neutralBarSeparator:Et,neutralBarActive:Ft,neutralBarOffsetX:Bt,neutralBarSeparatorOffsetX:Tt}=e,{dotPlotConnectPoints:Pt,dotPlotConnectPointsStroke:Wt,dotPlotConnectPointsStrokeWidth:Ot,dotPlotConnectPointsStrokeDasharray:_t}=e,{lineStrokeDashArray:Mt,lineInterpolation:qt,lineStrokeWidth:Nt,lineNodes:zt,nodeSize:Ut,nodeStrokeWidth:$t,nodeFill:Vt,areaFillOpacity:It}=e,{explodedBarColumnGap:Rt}=e,{plotBandsActive:Ht,plotBands:Gt}=e,{diffColumnActive:Xt,diffColumnCategory:Yt,diffColumnHeader:jt,diffColumnMarginLeft:Zt,diffColumnBackgroundColor:Kt,diffColumnHeightOffset:Qt,diffColumnWidth:Jt,diffColumnAppearance:ea}=e,{colorValue:ta,customColors:aa,elementHasStroke:ia}=e,{sortOrder:oa,categories:ra,availableCategories:la,dateInputFormat:na,sortKey:sa}=e,{mapShowCountyBoundaries:ca,mapShowStateBoundaries:da,mapPathBackgroundFill:ma,mapPathStroke:ba,mapBlockRectSize:ua,mapIgnoreSmallStateLabels:ha,mapScale:pa,mapScaleDomain:ga}=e,fa=m(R),va=m(ve);return{...n.baseConfig,layout:{...n.baseConfig.layout,name:`chart-builder-chart-${t}`,parentClass:a,type:"area"===o?"line":o,orientation:r,width:g,height:p,overflowX:f,padding:{top:l,bottom:c,left:h,right:s},horizontalRules:k,mobileBreakpoint:v},metadata:{...n.baseConfig.metadata,active:C,title:y,subtitle:w,note:x,source:A,tag:S},colors:0<aa.length?aa:d[ta],plotBands:{...n.baseConfig.plotBands,active:Ht,bands:Gt},independentAxis:{...n.baseConfig.independentAxis,active:B,label:_,scale:V,dateFormat:I,domain:b($,U,o,V,"x"),showZero:L,tickCount:Q,tickValues:1>=fa.length?null:u(fa,V),tickUnit:J,tickUnitPosition:ee,tickFormat:null,abbreviateTicks:D,abbreviateTicksDecimals:E,ticksToLocaleString:F,tickLabels:{...n.baseConfig.independentAxis.tickLabels,angle:H,verticalAnchor:Z,textAnchor:j,dy:Y,dx:X,fontSize:M,padding:0,fill:q,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:G},axisLabel:{...n.baseConfig.independentAxis.axisLabel,fontSize:M,fill:q,padding:N,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:z},axis:{...n.baseConfig.independentAxis.axis,stroke:T,strokeWidth:1},ticks:{...n.baseConfig.independentAxis.ticks,stroke:T,size:K?5:0,strokeWidth:1},grid:{...n.baseConfig.independentAxis.grid,stroke:P,strokeOpacity:O,strokeWidth:1,strokeDasharray:W}},dependentAxis:{...n.baseConfig.dependentAxis,active:re,label:se,scale:le,domain:b(ue,he,o,le,"y"),showZero:pe,tickCount:fe,tickValues:1>=va.length?null:u(va,le),tickUnit:ke,tickUnitPosition:Ce,tickAngle:ye,tickFormat:null,abbreviateTicks:De,abbreviateTicksDecimals:Ee,ticksToLocaleString:Fe,customTickFormat:null,tickLabels:{...n.baseConfig.dependentAxis.tickLabels,angle:ye,verticalAnchor:xe,textAnchor:Ae,dy:Se,dx:Le,fontSize:ce,fill:de,padding:15,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:we},axisLabel:{...n.baseConfig.dependentAxis.axisLabel,fontSize:ce,fill:de,padding:me,angle:270,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:be},ticks:{...n.baseConfig.dependentAxis.ticks,stroke:te,size:ge?5:0,strokeWidth:1},axis:{...n.baseConfig.dependentAxis.axis,stroke:te,strokeWidth:1},grid:{...n.baseConfig.dependentAxis.grid,stroke:ae,strokeOpacity:oe,strokeWidth:1,strokeDasharray:ie}},dataRender:{...n.baseConfig.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:sa,sortOrder:oa,categories:0<ra.length?ra:la,xScale:V,yScale:le,mapScale:pa,mapScaleDomain:ga,xFormat:na,yFormat:ne,numberFormat:"en-US",isHighlightedColor:"#ECDBAC"},animate:{active:!1,animationWhitelist:[],duration:2e3},events:{...n.baseConfig.events,click:i},tooltip:{...n.baseConfig.tooltip,active:rt,activeOnMobile:lt,deemphasizeSiblings:kt,deemphasizeOpacity:Ct,headerActive:nt,headerValue:st,format:pt,offsetX:ut,offsetY:ht,abbreviateValue:!1,absoluteValue:vt,toFixedDecimal:0,toLocaleString:ft,customFormat:null,rlsFormat:!1,dateFormat:gt,style:{...n.baseConfig.tooltip.style,maxWidth:dt,maxHeight:ct,minHeight:bt,minWidth:mt,width:"auto",height:"auto",fontSize:"13px",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",background:"white",border:"1px solid #CBCBCB",padding:"10px",borderRadius:"0px",color:"black"}},legend:{...n.baseConfig.legend,active:Ge,orientation:Xe,categories:Ye||ra,title:je,offsetX:Ze,offsetY:Ke,alignment:Qe,markerStyle:Je,borderStroke:et,fill:tt,labelDelimiter:at,labelLower:it,labelUpper:ot},bar:{...n.baseConfig.bar,hasRectStroke:ia,barPadding:wt,barGroupPadding:xt},line:{...n.baseConfig.line,interpolation:qt,strokeDasharray:Mt,strokeWidth:Nt,showPoints:zt,showArea:"area"===o,areaFillOpacity:It},dotPlot:{...n.baseConfig.dotPlot,connectPoints:Pt,connectingLine:{...n.baseConfig.dotPlot.connectingLine,stroke:Wt,strokeWidth:Ot,strokeDasharray:_t,strokeOpacity:1}},pie:{...n.baseConfig.pie,hasPathStroke:ia,pathStrokeColor:"white",pathStrokeWidth:1,showCategoryLabels:yt},explodedBar:{...n.baseConfig.explodedBar,columnGap:Rt},map:{...n.baseConfig.map,ignoreSmallStateLabels:ha,showCountyBoundaries:ca,showStateBoundaries:da,pathBackgroundFill:ma,pathStroke:ba,blockRectSize:ua},nodes:{...n.baseConfig.nodes,pointSize:Ut,pointFill:Vt,pointStrokeWidth:$t,pointCustomSize:null},labels:{...n.baseConfig.labels,active:Be,showFirstLastPointsOnly:Te,color:$e,fontWeight:Ie,fontSize:Ve,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",labelPositionBar:Ne,labelCutoff:ze,labelCutoffMobile:Ue,labelPositionDX:Pe,labelPositionDY:We,pieLabelRadius:60,abbreviateValue:!1,toLocaleString:_e,absoluteValue:Oe,truncateDecimal:Re,toFixedDecimal:He,labelUnit:Me,labelUnitPosition:qe,textAnchor:"middle",customLabelFormat:null},voronoi:{...n.baseConfig.voronoi,active:!1,fill:"#756a7e",stroke:"#ccc",strokeWidth:1,strokeOpacity:.5},regression:{...n.baseConfig.regression,active:!1,type:"linear",stroke:"#2a2a2a",strokeWidth:2,strokeDasharray:"1"},divergingBar:{...n.baseConfig.divergingBar,positiveCategories:At,negativeCategories:St,netPositiveCategory:"y4",netNegativeCategory:"y5",percentOfInnerWidth:Dt/100,neutralBar:{...n.baseConfig.divergingBar.neutralBar,category:Lt,offsetX:Bt,active:Ft&&!!Lt&&0<Lt.length,separator:Et,separatorOffsetX:Tt}},diffColumn:{...n.baseConfig.diffColumn,active:Xt,category:Yt,columnHeader:jt,style:{...n.baseConfig.diffColumn.style,rectStrokeWidth:0,rectStrokeColor:"white",rectFill:Kt,fontWeight:"bold"===ea||"bold-italic"===ea?"bold":"normal",fontStyle:"italic"===ea||"bold-italic"===ea?"italic":"normal",headerFontSize:"12px",marginLeft:Zt,width:Jt,heightOffset:Qt}}}})(a,t,"wp-chart-builder-wrapper"),{isStaticChart:o,staticImageId:r,staticImageUrl:l,staticImageAltText:s,tabsActive:c}=a;return{...i,staticImageId:r,staticImageUrl:l,isStaticChart:o,staticImageAltText:s,tabsActive:c}})(t),r=t.dataset.chartHash,h=e.querySelector(".wp-chart-builder-table"),v=e.querySelector(".wp-chart-builder-download"),k=e.querySelector(".download-svg"),C=e.querySelector(".wp-chart-builder-view-buttons"),{isStaticChart:y,staticImageId:w,staticImageUrl:x,tabsActive:A}=o,{postId:S,postUrl:L,postPubDate:D,rootUrl:E}=t.dataset,F={url:y?x:window.chartConfigs[r].pngUrl,id:y?w:window.chartConfigs[r].pngId},B=!!h&&window.tableData[h.id],T=window.chartPreformattedData[r],{chartData:P}=window.chartConfigs[r],W=T||P,O=!!(A&&B&&!B.errors&&B.rows.length>0)&&(0,s.arrayToCSV)([B.header,...B.rows],{title:o.metadata.title,subtitle:o.metadata.subtitle,note:o.metadata.note,source:o.metadata.source,tag:o.metadata.tag});v&&O&&v.addEventListener("click",(e=>{e.preventDefault();const t=new Blob([O],{type:"text/csv"}),a=URL.createObjectURL(t),i=document.createElement("a"),r=o.metadata.title.toLowerCase().replace(/\s+/g,"_");i.setAttribute("href",a),i.setAttribute("download",`${r}_data_${D}.csv`),i.click(),e.stopPropagation()})),k&&k.addEventListener("click",(e=>(e=>{const t=document.querySelector(`[data-chart-hash="${e}"]`).querySelector("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const a=new Blob([t.outerHTML],{type:"image/svg+xml"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`chart-${e}.svg`,document.body.appendChild(o),o.click(),document.body.removeChild(o)})(r))),((e,t,a,i)=>{e&&e.querySelector(".view-button--chart")&&e.querySelector(".view-button--chart").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--chart").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.remove("active"),document.querySelector(`#modal-${i}`).classList.remove("active")})),e&&e.querySelector(".view-button--table")&&e.querySelector(".view-button--table").addEventListener("click",(()=>{t.classList.add("active"),a.classList.remove("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--table").classList.add("active")})),e&&e.querySelector(".view-button--share")&&e.querySelector(".view-button--share").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--share").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.add("active"),document.querySelector(`#modal-${i}`).classList.add("active")}))})(C,h,t,r),a.render((0,i.createElement)("figure",null,(0,i.createElement)(n.ChartBuilderTextWrapper,{active:o.metadata.active,width:o.layout.width,horizontalRules:o.layout.horizontalRules,title:o.metadata.title,subtitle:o.metadata.subtitle,note:o.metadata.note,source:o.metadata.source,tag:o.metadata.tag},y&&(0,i.createElement)("img",{className:"cb__static-img",src:F.url,alt:o.staticImageAltText}),!y&&(0,i.createElement)(n.ChartBuilderWrapper,{config:o,data:W}),A&&(0,i.createElement)(p,{onClickFacebook:e=>((e,t,a,i,o)=>{e.preventDefault();const r=(0,l.addQueryArgs)("https://www.facebook.com/sharer/sharer.php",{u:o.id?`${a}/share/${i}/${o.id}`:t});window.open(r,"fbShareWindow",`height=450, width=550, top=${f/2-275}, left=${g/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,L,E,S,F),onClickTwitter:e=>((e,t,a,i,o,r)=>{e.preventDefault();const n=(0,l.addQueryArgs)("https://twitter.com/intent/tweet",{text:r,url:o.id?`${a}/share/${i}/${o.id}`:t});window.open(n,"twtrShareWindow",`height=450, width=550, top=${f/2-275}, left=${g/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,L,E,S,F,o.metadata.title),pngAttrs:F,elementId:r}))),t)}))};r()((()=>{v()}))})();
//# sourceMappingURL=view.js.map