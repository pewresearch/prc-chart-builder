(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var i in a)e.o(a,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:a[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.domReady;var i=e.n(a);const o=window.wp.element,r=window.wp.url,l=window.prcChartBuilder,n=(window.prcFunctions,{general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]});window.wp.apiFetch;const s=e=>e.split(",").map(Number).filter((e=>!Number.isNaN(e))),c=(e,t,a,i,o)=>Number.isNaN(e)||Number.isNaN(t)?[0,100]:"bar"===a&&"x"===o||"stacked-bar"===a&&"x"===o||"dot-plot"===a&&"x"===o||"pie"===a?null:"time"===i&&"x"===o?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)],d=(e,t)=>"time"===t?e.map((e=>new Date(`${e}`))):e,m=(0,t.createElement)("svg",{width:"10",height:"10",viewBox:"0 0 44 44","aria-hidden":"true",focusable:"false"},(0,t.createElement)("path",{d:"M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"}),(0,t.createElement)("path",{d:"M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"})),b=({onClickFacebook:e,onClickTwitter:a,pngAttrs:i,elementId:o})=>{function r(e){document.querySelector(`#modal-overlay-${e}`).classList.remove("active"),document.querySelector(`#modal-${e}`).classList.remove("active")}const{id:l,url:n}=i;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"share-modal__overlay",id:`modal-overlay-${o}`,onClick:e=>{e.preventDefault(),r(o)}}),(0,t.createElement)("div",{className:"share-modal",id:`modal-${o}`},(0,t.createElement)("div",{className:"share-modal__inner"},(0,t.createElement)("div",{className:"share-modal__header"},(0,t.createElement)("h2",{className:"share-modal__title"},"Share this chart:"),(0,t.createElement)("button",{type:"button","aria-label":"Close",className:"share-modal__close",onClick:e=>{e.preventDefault(),r(o)}},m)),(0,t.createElement)("div",{className:"share-modal__body"},(0,t.createElement)("button",{className:"share-modal__button share-modal__button--twitter",onClick:a},(0,t.createElement)("span",null,"Share on Twitter")),(0,t.createElement)("button",{className:"share-modal__button share-modal__button--facebook",onClick:e},(0,t.createElement)("span",null,"Share on Facebook")),i.id&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("a",{className:"share-modal__download-png",href:n,download:`chart-${l}.png`},(0,t.createElement)("span",null,"Download .png image")))))))};new DOMParser;const{innerWidth:u,innerHeight:h}=window,g=()=>{document.querySelectorAll(".wp-chart-builder-wrapper").forEach((e=>{const a=e.querySelector(".wp-chart-builder-inner"),i=(e=>{const t=e.dataset.chartHash,a=window.chartConfigs[t],i=((e,t,a="wp-chart-builder-wrapper")=>{const{chartType:i,chartOrientation:o,paddingTop:r,paddingRight:m,paddingBottom:b,paddingLeft:u,height:h,width:g,horizontalRules:p}=e,{metaTextActive:f,metaTitle:k,metaSubtitle:C,metaNote:v,metaSource:y,metaTag:w}=e,{showXMinDomainLabel:A,xAbbreviateTicks:x,xAbbreviateTicksDecimals:S,xTicksToLocaleString:D,xAxisActive:E,xAxisStroke:L,xGridStroke:F,xGridStrokeDasharray:B,xGridOpacity:T,xLabel:P,xLabelFontSize:W,xLabelPadding:O,xLabelMaxWidth:q,xMaxDomain:N,xMinDomain:_,xScale:M,xDateFormat:z,xTickExact:$,xTickLabelAngle:U,xTickLabelMaxWidth:V,xTickLabelDX:I,xTickLabelDY:G,xTickLabelTextAnchor:H,xTickLabelVerticalAnchor:R,xTickMarksActive:X,xTickNum:Y,xTickUnit:j,xTickUnitPosition:Z}=e,{yAxisStroke:K,yGridStroke:Q,yGridStrokeDasharray:J,yGridOpacity:ee,yAxisActive:te,yScale:ae,yScaleFormat:ie,yLabel:oe,yLabelFontSize:re,yLabelPadding:le,yLabelMaxWidth:ne,yMinDomain:se,yMaxDomain:ce,showYMinDomainLabel:de,yTickMarksActive:me,yTickNum:be,yTickExact:ue,yTickUnit:he,yTickUnitPosition:ge,yTickLabelAngle:pe,yTickLabelMaxWidth:fe,yTickLabelVerticalAnchor:ke,yTickLabelTextAnchor:Ce,yTickLabelDY:ve,yTickLabelDX:ye,yAbbreviateTicks:we,yAbbreviateTicksDecimals:Ae,yTicksToLocaleString:xe}=e,{labelsActive:Se,showFirstLastPointsOnly:De,labelPositionDX:Ee,labelPositionDY:Le,labelAbsoluteValue:Fe,labelFormatValue:Be,labelUnit:Te,labelUnitPosition:Pe,barLabelPosition:We,barLabelCutoff:Oe,barLabelCutoffMobile:qe,labelColor:Ne,labelFontSize:_e,labelFontWeight:Me,labelToFixedDecimal:ze}=e,{legendActive:$e,legendOrientation:Ue,legendCategories:Ve,legendTitle:Ie,legendOffsetX:Ge,legendOffsetY:He,legendAlignment:Re,legendMarkerStyle:Xe,legendBorderStroke:Ye,legendFill:je}=e,{tooltipActive:Ze,tooltipHeaderActive:Ke,tooltipHeaderValue:Qe,tooltipMaxHeight:Je,tooltipMaxWidth:et,tooltipMinWidth:tt,tooltipMinHeight:at,tooltipOffsetX:it,tooltipOffsetY:ot,tooltipFormat:rt,tooltipDateFormat:lt,tooltipFormatValue:nt,tooltipAbsoluteValue:st,deemphasizeSiblings:ct,deemphasizeOpacity:dt}=e,{pieCategoryLabelsActive:mt}=e,{barPadding:bt,barGroupPadding:ut}=e,{positiveCategories:ht,negativeCategories:gt,neutralCategory:pt,divergingBarPercentOfInnerWidth:ft,neutralBarSeparator:kt,neutralBarActive:Ct,neutralBarOffsetX:vt,neutralBarSeparatorOffsetX:yt}=e,{dotPlotConnectPoints:wt,dotPlotConnectPointsStroke:At,dotPlotConnectPointsStrokeWidth:xt,dotPlotConnectPointsStrokeDasharray:St}=e,{lineStrokeDashArray:Dt,lineInterpolation:Et,lineStrokeWidth:Lt,lineNodes:Ft,nodeSize:Bt,nodeStroke:Tt,nodeFill:Pt,areaFillOpacity:Wt}=e,{explodedBarColumnGap:Ot}=e,{plotBandsActive:qt,plotBands:Nt}=e,{diffColumnActive:_t,diffColumnCategory:Mt,diffColumnHeader:zt,diffColumnMarginLeft:$t,diffColumnBackgroundColor:Ut,diffColumnHeightOffset:Vt,diffColumnWidth:It,diffColumnAppearance:Gt}=e,{colorValue:Ht,customColors:Rt,elementHasStroke:Xt}=e,{sortOrder:Yt,categories:jt,availableCategories:Zt,dateInputFormat:Kt,sortKey:Qt}=e,Jt=s($),ea=s(ue);return{...l.baseConfig,layout:{...l.baseConfig.layout,name:`chart-builder-chart-${t}`,parentClass:a,type:"area"===i?"line":i,orientation:o,width:g,height:h,padding:{top:r,bottom:b,left:u,right:m},horizontalRules:p},metadata:{...l.baseConfig.metadata,active:f,title:k,subtitle:C,note:v,source:y,tag:w},colors:0<Rt.length?Rt:n[Ht],plotBands:{...l.baseConfig.plotBands,active:qt,bands:Nt},independentAxis:{...l.baseConfig.independentAxis,active:E,label:P,scale:M,dateFormat:z,domain:c(_,N,i,M,"x"),showZero:A,tickCount:Y,tickValues:1>=Jt.length?null:d(Jt,M),tickUnit:j,tickUnitPosition:Z,tickFormat:null,abbreviateTicks:x,abbreviateTicksDecimals:S,ticksToLocaleString:D,tickLabels:{...l.baseConfig.independentAxis.tickLabels,angle:U,verticalAnchor:R,textAnchor:H,dy:G,dx:I,fontSize:12,padding:0,fill:"rgba(35, 31, 32,0.7)",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:V},axisLabel:{...l.baseConfig.independentAxis.axisLabel,fontSize:W,fill:"rgba(35, 31, 32,0.7)",padding:O,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:q},axis:{...l.baseConfig.independentAxis.axis,stroke:L,strokeWidth:1},ticks:{...l.baseConfig.independentAxis.ticks,stroke:L,size:X?5:0,strokeWidth:1},grid:{...l.baseConfig.independentAxis.grid,stroke:F,strokeOpacity:T,strokeWidth:1,strokeDasharray:B}},dependentAxis:{...l.baseConfig.dependentAxis,active:te,label:oe,scale:ae,domain:c(se,ce,i,ae,"y"),showZero:de,tickCount:be,tickValues:1>=ea.length?null:d(ea,ae),tickUnit:he,tickUnitPosition:ge,tickAngle:pe,tickFormat:null,abbreviateTicks:we,abbreviateTicksDecimals:Ae,ticksToLocaleString:xe,customTickFormat:null,tickLabels:{...l.baseConfig.dependentAxis.tickLabels,angle:pe,verticalAnchor:ke,textAnchor:Ce,dy:ve,dx:ye,fontSize:12,fill:"rgba(35, 31, 32,0.7)",padding:15,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:fe},axisLabel:{...l.baseConfig.dependentAxis.axisLabel,fontSize:re,fill:"rgba(35, 31, 32,0.7)",padding:le,angle:270,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:ne},ticks:{...l.baseConfig.dependentAxis.ticks,stroke:K,size:me?5:0,strokeWidth:1},axis:{...l.baseConfig.dependentAxis.axis,stroke:K,strokeWidth:1},grid:{...l.baseConfig.dependentAxis.grid,stroke:Q,strokeOpacity:ee,strokeWidth:1,strokeDasharray:J}},dataRender:{...l.baseConfig.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:Qt,sortOrder:Yt,categories:0<jt.length?jt:Zt,xScale:M,yScale:ae,xFormat:Kt,yFormat:ie,numberFormat:"en-US",isHighlightedColor:"#ECDBAC"},animate:{active:!1,animationWhitelist:[],duration:2e3},tooltip:{...l.baseConfig.tooltip,active:Ze,deemphasizeSiblings:ct,deemphasizeOpacity:dt,headerActive:Ke,headerValue:Qe,format:rt,offsetX:it,offsetY:ot,abbreviateValue:!1,absoluteValue:st,toFixedDecimal:0,toLocaleString:nt,customFormat:null,rlsFormat:!1,dateFormat:lt,style:{...l.baseConfig.tooltip.style,maxWidth:et,maxHeight:Je,minHeight:at,minWidth:tt,width:"auto",height:"auto",fontSize:"13px",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",background:"white",border:"1px solid #CBCBCB",padding:"10px",borderRadius:"0px",color:"black"}},legend:{...l.baseConfig.legend,active:$e,orientation:Ue,categories:Ve||jt,title:Ie,offsetX:Ge,offsetY:He,alignment:Re,markerStyle:Xe,borderStroke:Ye,fill:je},bar:{...l.baseConfig.bar,hasRectStroke:Xt,barPadding:bt,barGroupPadding:ut},line:{...l.baseConfig.line,interpolation:Et,strokeDasharray:Dt,strokeWidth:Lt,showPoints:Ft,showArea:"area"===i,areaFillOpacity:Wt},dotPlot:{...l.baseConfig.dotPlot,connectPoints:wt,connectingLine:{...l.baseConfig.dotPlot.connectingLine,stroke:At,strokeWidth:xt,strokeDasharray:St,strokeOpacity:1}},pie:{...l.baseConfig.pie,hasPathStroke:Xt,pathStrokeColor:"white",pathStrokeWidth:1,showCategoryLabels:mt},explodedBar:{...l.baseConfig.explodedBar,columnGap:Ot},nodes:{...l.baseConfig.nodes,pointSize:Bt,pointFill:Pt,pointStrokeWidth:1,pointStroke:Tt,pointCustomSize:null},labels:{...l.baseConfig.labels,active:Se,showFirstLastPointsOnly:De,color:Ne,fontWeight:Me,fontSize:_e,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",labelPositionBar:We,labelCutoff:Oe,labelCutoffMobile:qe,labelPositionDX:Ee,labelPositionDY:Le,pieLabelRadius:60,abbreviateValue:!1,toLocaleString:Be,absoluteValue:Fe,toFixedDecimal:ze,labelUnit:Te,labelUnitPosition:Pe,textAnchor:"middle",customLabelFormat:null},voronoi:{...l.baseConfig.voronoi,active:!1,fill:"#756a7e",stroke:"#ccc",strokeWidth:1,strokeOpacity:.5},regression:{...l.baseConfig.regression,active:!1,type:"linear",stroke:"#2a2a2a",strokeWidth:2,strokeDasharray:"1"},divergingBar:{...l.baseConfig.divergingBar,positiveCategories:ht,negativeCategories:gt,netPositiveCategory:"y4",netNegativeCategory:"y5",percentOfInnerWidth:ft/100,neutralBar:{...l.baseConfig.divergingBar.neutralBar,category:pt,offsetX:vt,active:Ct&&!!pt&&0<pt.length,separator:kt,separatorOffsetX:yt}},diffColumn:{...l.baseConfig.diffColumn,active:_t,category:Mt,columnHeader:zt,style:{...l.baseConfig.diffColumn.style,rectStrokeWidth:0,rectStrokeColor:"white",rectFill:Ut,fontWeight:"bold"===Gt||"bold-italic"===Gt?"bold":"normal",fontStyle:"italic"===Gt||"bold-italic"===Gt?"italic":"normal",headerFontSize:"12px",marginLeft:$t,width:It,heightOffset:Vt}}}})(a,t,"wp-chart-builder-wrapper"),{isStaticChart:o,staticImageId:r,staticImageUrl:m,staticImageAltText:b}=a;return{...i,staticImageId:r,staticImageUrl:m,isStaticChart:o,staticImageAltText:b}})(a),m=a.dataset.chartHash,g=e.querySelector(".wp-chart-builder-table"),p=(e.querySelector(".wp-chart-builder-download"),e.querySelector(".download-svg")),f=e.querySelector(".wp-chart-builder-view-buttons"),{isStaticChart:k,staticImageId:C,staticImageUrl:v}=i,{postId:y,postUrl:w}=a.dataset,A={url:k?v:window.chartConfigs[m].pngUrl,id:k?C:window.chartConfigs[m].pngId},x=(window.tableData[m],window.chartPreformattedData[m]),{chartData:S}=window.chartConfigs[m],D=x||S;p&&p.addEventListener("click",(e=>(e=>{const t=document.querySelector(`[data-chart-hash="${e}"]`).querySelector("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const a=new Blob([t.outerHTML],{type:"image/svg+xml"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`chart-${e}.svg`,document.body.appendChild(o),o.click(),document.body.removeChild(o)})(m))),((e,t,a,i)=>{e&&e.querySelector(".view-button--chart")&&e.querySelector(".view-button--chart").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--chart").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.remove("active"),document.querySelector(`#modal-${i}`).classList.remove("active")})),e&&e.querySelector(".view-button--table")&&e.querySelector(".view-button--table").addEventListener("click",(()=>{t.classList.add("active"),a.classList.remove("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--table").classList.add("active")})),e&&e.querySelector(".view-button--share")&&e.querySelector(".view-button--share").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--share").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.add("active"),document.querySelector(`#modal-${i}`).classList.add("active")}))})(f,g,a,m),(0,o.render)((0,t.createElement)("figure",null,(0,t.createElement)(l.ChartBuilderTextWrapper,{active:i.metadata.active,width:i.layout.width,horizontalRules:i.layout.horizontalRules,title:i.metadata.title,subtitle:i.metadata.subtitle,note:i.metadata.note,source:i.metadata.source,tag:i.metadata.tag},k&&(0,t.createElement)("img",{className:"cb__static-img",src:A.url,alt:i.staticImageAltText}),!k&&(0,t.createElement)(l.ChartBuilderWrapper,{config:i,data:D}),(0,t.createElement)(b,{onClickFacebook:e=>((e,t,a,i,o)=>{e.preventDefault();const l=(0,r.addQueryArgs)("https://www.facebook.com/sharer/sharer.php",{u:o.id?`${a}/share/${i}/${o.id}`:t});window.open(l,"fbShareWindow",`height=450, width=550, top=${h/2-275}, left=${u/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,w,rootUrl,y,A),onClickTwitter:e=>((e,t,a,i,o,l)=>{e.preventDefault();const n=(0,r.addQueryArgs)("https://twitter.com/intent/tweet",{text:l,url:o.id?`${a}/share/${i}/${o.id}`:t});window.open(n,"twtrShareWindow",`height=450, width=550, top=${h/2-275}, left=${u/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,w,rootUrl,y,A,i.metadata.title),pngAttrs:A,elementId:m}))),a)}))};i()((()=>{g()}))})();
//# sourceMappingURL=view.js.map