(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var i in a)e.o(a,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:a[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.domReady;var i=e.n(a);const o=window.wp.element,r=window.wp.url,l=window.prcChartBuilder,n=window.prcFunctions,s={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]};window.wp.apiFetch;const c=e=>e.split(",").map(Number).filter((e=>!Number.isNaN(e))),d=(e,t,a,i,o)=>Number.isNaN(e)||Number.isNaN(t)?[0,100]:"bar"===a&&"x"===o||"stacked-bar"===a&&"x"===o||"dot-plot"===a&&"x"===o||"pie"===a?null:"time"===i&&"x"===o?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)],m=(e,t)=>"time"===t?e.map((e=>new Date(`${e}`))):e,u=(0,t.createElement)("svg",{width:"10",height:"10",viewBox:"0 0 44 44","aria-hidden":"true",focusable:"false"},(0,t.createElement)("path",{d:"M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"}),(0,t.createElement)("path",{d:"M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"})),b=({onClickFacebook:e,onClickTwitter:a,pngAttrs:i,elementId:o})=>{function r(e){document.querySelector(`#modal-overlay-${e}`).classList.remove("active"),document.querySelector(`#modal-${e}`).classList.remove("active")}const{id:l,url:n}=i;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"share-modal__overlay",id:`modal-overlay-${o}`,onClick:e=>{e.preventDefault(),r(o)}}),(0,t.createElement)("div",{className:"share-modal",id:`modal-${o}`},(0,t.createElement)("div",{className:"share-modal__inner"},(0,t.createElement)("div",{className:"share-modal__header"},(0,t.createElement)("h2",{className:"share-modal__title"},"Share this chart:"),(0,t.createElement)("button",{type:"button","aria-label":"Close",className:"share-modal__close",onClick:e=>{e.preventDefault(),r(o)}},u)),(0,t.createElement)("div",{className:"share-modal__body"},(0,t.createElement)("button",{className:"share-modal__button share-modal__button--twitter",onClick:a},(0,t.createElement)("span",null,"Share on Twitter")),(0,t.createElement)("button",{className:"share-modal__button share-modal__button--facebook",onClick:e},(0,t.createElement)("span",null,"Share on Facebook")),i.id&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("a",{className:"share-modal__download-png",href:n,download:`chart-${l}.png`},(0,t.createElement)("span",null,"Download .png image")))))))};new DOMParser;const{innerWidth:h,innerHeight:g}=window,p=()=>{document.querySelectorAll(".wp-chart-builder-wrapper").forEach((e=>{const a=e.querySelector(".wp-chart-builder-inner"),i=(e=>{const t=e.dataset.chartHash,a=window.chartConfigs[t],i=((e,t,a="wp-chart-builder-wrapper")=>{const{chartType:i,chartOrientation:o,paddingTop:r,paddingRight:n,paddingBottom:u,paddingLeft:b,height:h,width:g,horizontalRules:p}=e,{metaTextActive:f,metaTitle:k,metaSubtitle:C,metaNote:v,metaSource:y,metaTag:w}=e,{showXMinDomainLabel:x,xAbbreviateTicks:A,xAbbreviateTicksDecimals:S,xTicksToLocaleString:D,xAxisActive:L,xAxisStroke:E,xGridStroke:F,xGridStrokeDasharray:B,xGridOpacity:T,xLabel:P,xLabelFontSize:W,xLabelTextFill:O,xLabelPadding:_,xLabelMaxWidth:q,xMaxDomain:N,xMinDomain:M,xScale:$,xDateFormat:U,xTickExact:z,xTickLabelAngle:V,xTickLabelMaxWidth:I,xTickLabelDX:G,xTickLabelDY:R,xTickLabelTextAnchor:H,xTickLabelVerticalAnchor:X,xTickMarksActive:Y,xTickNum:j,xTickUnit:Z,xTickUnitPosition:K}=e,{yAxisStroke:Q,yGridStroke:J,yGridStrokeDasharray:ee,yGridOpacity:te,yAxisActive:ae,yScale:ie,yScaleFormat:oe,yLabel:re,yLabelFontSize:le,yLabelTextFill:ne,yLabelPadding:se,yLabelMaxWidth:ce,yMinDomain:de,yMaxDomain:me,showYMinDomainLabel:ue,yTickMarksActive:be,yTickNum:he,yTickExact:ge,yTickUnit:pe,yTickUnitPosition:fe,yTickLabelAngle:ke,yTickLabelMaxWidth:Ce,yTickLabelVerticalAnchor:ve,yTickLabelTextAnchor:ye,yTickLabelDY:we,yTickLabelDX:xe,yAbbreviateTicks:Ae,yAbbreviateTicksDecimals:Se,yTicksToLocaleString:De}=e,{labelsActive:Le,showFirstLastPointsOnly:Ee,labelPositionDX:Fe,labelPositionDY:Be,labelAbsoluteValue:Te,labelFormatValue:Pe,labelUnit:We,labelUnitPosition:Oe,barLabelPosition:_e,barLabelCutoff:qe,barLabelCutoffMobile:Ne,labelColor:Me,labelFontSize:$e,labelFontWeight:Ue,labelTruncateDecimal:ze,labelToFixedDecimal:Ve}=e,{legendActive:Ie,legendOrientation:Ge,legendCategories:Re,legendTitle:He,legendOffsetX:Xe,legendOffsetY:Ye,legendAlignment:je,legendMarkerStyle:Ze,legendBorderStroke:Ke,legendFill:Qe}=e,{tooltipActive:Je,tooltipHeaderActive:et,tooltipHeaderValue:tt,tooltipMaxHeight:at,tooltipMaxWidth:it,tooltipMinWidth:ot,tooltipMinHeight:rt,tooltipOffsetX:lt,tooltipOffsetY:nt,tooltipFormat:st,tooltipDateFormat:ct,tooltipFormatValue:dt,tooltipAbsoluteValue:mt,deemphasizeSiblings:ut,deemphasizeOpacity:bt}=e,{pieCategoryLabelsActive:ht}=e,{barPadding:gt,barGroupPadding:pt}=e,{positiveCategories:ft,negativeCategories:kt,neutralCategory:Ct,divergingBarPercentOfInnerWidth:vt,neutralBarSeparator:yt,neutralBarActive:wt,neutralBarOffsetX:xt,neutralBarSeparatorOffsetX:At}=e,{dotPlotConnectPoints:St,dotPlotConnectPointsStroke:Dt,dotPlotConnectPointsStrokeWidth:Lt,dotPlotConnectPointsStrokeDasharray:Et}=e,{lineStrokeDashArray:Ft,lineInterpolation:Bt,lineStrokeWidth:Tt,lineNodes:Pt,nodeSize:Wt,nodeStroke:Ot,nodeFill:_t,areaFillOpacity:qt}=e,{explodedBarColumnGap:Nt}=e,{plotBandsActive:Mt,plotBands:$t}=e,{diffColumnActive:Ut,diffColumnCategory:zt,diffColumnHeader:Vt,diffColumnMarginLeft:It,diffColumnBackgroundColor:Gt,diffColumnHeightOffset:Rt,diffColumnWidth:Ht,diffColumnAppearance:Xt}=e,{colorValue:Yt,customColors:jt,elementHasStroke:Zt}=e,{sortOrder:Kt,categories:Qt,availableCategories:Jt,dateInputFormat:ea,sortKey:ta}=e,aa=c(z),ia=c(ge);return{...l.baseConfig,layout:{...l.baseConfig.layout,name:`chart-builder-chart-${t}`,parentClass:a,type:"area"===i?"line":i,orientation:o,width:g,height:h,padding:{top:r,bottom:u,left:b,right:n},horizontalRules:p},metadata:{...l.baseConfig.metadata,active:f,title:k,subtitle:C,note:v,source:y,tag:w},colors:0<jt.length?jt:s[Yt],plotBands:{...l.baseConfig.plotBands,active:Mt,bands:$t},independentAxis:{...l.baseConfig.independentAxis,active:L,label:P,scale:$,dateFormat:U,domain:d(M,N,i,$,"x"),showZero:x,tickCount:j,tickValues:1>=aa.length?null:m(aa,$),tickUnit:Z,tickUnitPosition:K,tickFormat:null,abbreviateTicks:A,abbreviateTicksDecimals:S,ticksToLocaleString:D,tickLabels:{...l.baseConfig.independentAxis.tickLabels,angle:V,verticalAnchor:X,textAnchor:H,dy:R,dx:G,fontSize:W,padding:0,fill:O,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:I},axisLabel:{...l.baseConfig.independentAxis.axisLabel,fontSize:W,fill:O,padding:_,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:q},axis:{...l.baseConfig.independentAxis.axis,stroke:E,strokeWidth:1},ticks:{...l.baseConfig.independentAxis.ticks,stroke:E,size:Y?5:0,strokeWidth:1},grid:{...l.baseConfig.independentAxis.grid,stroke:F,strokeOpacity:T,strokeWidth:1,strokeDasharray:B}},dependentAxis:{...l.baseConfig.dependentAxis,active:ae,label:re,scale:ie,domain:d(de,me,i,ie,"y"),showZero:ue,tickCount:he,tickValues:1>=ia.length?null:m(ia,ie),tickUnit:pe,tickUnitPosition:fe,tickAngle:ke,tickFormat:null,abbreviateTicks:Ae,abbreviateTicksDecimals:Se,ticksToLocaleString:De,customTickFormat:null,tickLabels:{...l.baseConfig.dependentAxis.tickLabels,angle:ke,verticalAnchor:ve,textAnchor:ye,dy:we,dx:xe,fontSize:le,fill:ne,padding:15,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:Ce},axisLabel:{...l.baseConfig.dependentAxis.axisLabel,fontSize:le,fill:ne,padding:se,angle:270,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:ce},ticks:{...l.baseConfig.dependentAxis.ticks,stroke:Q,size:be?5:0,strokeWidth:1},axis:{...l.baseConfig.dependentAxis.axis,stroke:Q,strokeWidth:1},grid:{...l.baseConfig.dependentAxis.grid,stroke:J,strokeOpacity:te,strokeWidth:1,strokeDasharray:ee}},dataRender:{...l.baseConfig.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:ta,sortOrder:Kt,categories:0<Qt.length?Qt:Jt,xScale:$,yScale:ie,xFormat:ea,yFormat:oe,numberFormat:"en-US",isHighlightedColor:"#ECDBAC"},animate:{active:!1,animationWhitelist:[],duration:2e3},tooltip:{...l.baseConfig.tooltip,active:Je,deemphasizeSiblings:ut,deemphasizeOpacity:bt,headerActive:et,headerValue:tt,format:st,offsetX:lt,offsetY:nt,abbreviateValue:!1,absoluteValue:mt,toFixedDecimal:0,toLocaleString:dt,customFormat:null,rlsFormat:!1,dateFormat:ct,style:{...l.baseConfig.tooltip.style,maxWidth:it,maxHeight:at,minHeight:rt,minWidth:ot,width:"auto",height:"auto",fontSize:"13px",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",background:"white",border:"1px solid #CBCBCB",padding:"10px",borderRadius:"0px",color:"black"}},legend:{...l.baseConfig.legend,active:Ie,orientation:Ge,categories:Re||Qt,title:He,offsetX:Xe,offsetY:Ye,alignment:je,markerStyle:Ze,borderStroke:Ke,fill:Qe},bar:{...l.baseConfig.bar,hasRectStroke:Zt,barPadding:gt,barGroupPadding:pt},line:{...l.baseConfig.line,interpolation:Bt,strokeDasharray:Ft,strokeWidth:Tt,showPoints:Pt,showArea:"area"===i,areaFillOpacity:qt},dotPlot:{...l.baseConfig.dotPlot,connectPoints:St,connectingLine:{...l.baseConfig.dotPlot.connectingLine,stroke:Dt,strokeWidth:Lt,strokeDasharray:Et,strokeOpacity:1}},pie:{...l.baseConfig.pie,hasPathStroke:Zt,pathStrokeColor:"white",pathStrokeWidth:1,showCategoryLabels:ht},explodedBar:{...l.baseConfig.explodedBar,columnGap:Nt},nodes:{...l.baseConfig.nodes,pointSize:Wt,pointFill:_t,pointStrokeWidth:1,pointStroke:Ot,pointCustomSize:null},labels:{...l.baseConfig.labels,active:Le,showFirstLastPointsOnly:Ee,color:Me,fontWeight:Ue,fontSize:$e,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",labelPositionBar:_e,labelCutoff:qe,labelCutoffMobile:Ne,labelPositionDX:Fe,labelPositionDY:Be,pieLabelRadius:60,abbreviateValue:!1,toLocaleString:Pe,absoluteValue:Te,truncateDecimal:ze,toFixedDecimal:Ve,labelUnit:We,labelUnitPosition:Oe,textAnchor:"middle",customLabelFormat:null},voronoi:{...l.baseConfig.voronoi,active:!1,fill:"#756a7e",stroke:"#ccc",strokeWidth:1,strokeOpacity:.5},regression:{...l.baseConfig.regression,active:!1,type:"linear",stroke:"#2a2a2a",strokeWidth:2,strokeDasharray:"1"},divergingBar:{...l.baseConfig.divergingBar,positiveCategories:ft,negativeCategories:kt,netPositiveCategory:"y4",netNegativeCategory:"y5",percentOfInnerWidth:vt/100,neutralBar:{...l.baseConfig.divergingBar.neutralBar,category:Ct,offsetX:xt,active:wt&&!!Ct&&0<Ct.length,separator:yt,separatorOffsetX:At}},diffColumn:{...l.baseConfig.diffColumn,active:Ut,category:zt,columnHeader:Vt,style:{...l.baseConfig.diffColumn.style,rectStrokeWidth:0,rectStrokeColor:"white",rectFill:Gt,fontWeight:"bold"===Xt||"bold-italic"===Xt?"bold":"normal",fontStyle:"italic"===Xt||"bold-italic"===Xt?"italic":"normal",headerFontSize:"12px",marginLeft:It,width:Ht,heightOffset:Rt}}}})(a,t,"wp-chart-builder-wrapper"),{isStaticChart:o,staticImageId:r,staticImageUrl:n,staticImageAltText:u}=a;return{...i,staticImageId:r,staticImageUrl:n,isStaticChart:o,staticImageAltText:u}})(a),u=a.dataset.chartHash,p=e.querySelector(".wp-chart-builder-table"),f=e.querySelector(".wp-chart-builder-download"),k=e.querySelector(".download-svg"),C=e.querySelector(".wp-chart-builder-view-buttons"),{isStaticChart:v,staticImageId:y,staticImageUrl:w}=i,{postId:x,postUrl:A,postPubDate:S}=a.dataset,D={url:v?w:window.chartConfigs[u].pngUrl,id:v?y:window.chartConfigs[u].pngId},L=window.tableData[u],E=window.chartPreformattedData[u],{chartData:F}=window.chartConfigs[u],B=E||F,T=!!(L&&!L.errors&&L.rows.length>0)&&(0,n.arrayToCSV)([L.header,...L.rows],{title:i.metadata.title,subtitle:i.metadata.subtitle,note:i.metadata.note,source:i.metadata.source,tag:i.metadata.tag});f&&T&&f.addEventListener("click",(e=>{e.preventDefault();const t=new Blob([T],{type:"text/csv"}),a=URL.createObjectURL(t),o=document.createElement("a"),r=i.metadata.title.toLowerCase().replace(/\s+/g,"_");o.setAttribute("href",a),o.setAttribute("download",`${r}_data_${S}.csv`),o.click(),e.stopPropagation()})),k&&k.addEventListener("click",(e=>(e=>{const t=document.querySelector(`[data-chart-hash="${e}"]`).querySelector("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const a=new Blob([t.outerHTML],{type:"image/svg+xml"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`chart-${e}.svg`,document.body.appendChild(o),o.click(),document.body.removeChild(o)})(u))),((e,t,a,i)=>{e&&e.querySelector(".view-button--chart")&&e.querySelector(".view-button--chart").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--chart").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.remove("active"),document.querySelector(`#modal-${i}`).classList.remove("active")})),e&&e.querySelector(".view-button--table")&&e.querySelector(".view-button--table").addEventListener("click",(()=>{t.classList.add("active"),a.classList.remove("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--table").classList.add("active")})),e&&e.querySelector(".view-button--share")&&e.querySelector(".view-button--share").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--share").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.add("active"),document.querySelector(`#modal-${i}`).classList.add("active")}))})(C,p,a,u),(0,o.render)((0,t.createElement)("figure",null,(0,t.createElement)(l.ChartBuilderTextWrapper,{active:i.metadata.active,width:i.layout.width,horizontalRules:i.layout.horizontalRules,title:i.metadata.title,subtitle:i.metadata.subtitle,note:i.metadata.note,source:i.metadata.source,tag:i.metadata.tag},v&&(0,t.createElement)("img",{className:"cb__static-img",src:D.url,alt:i.staticImageAltText}),!v&&(0,t.createElement)(l.ChartBuilderWrapper,{config:i,data:B}),(0,t.createElement)(b,{onClickFacebook:e=>((e,t,a,i,o)=>{e.preventDefault();const l=(0,r.addQueryArgs)("https://www.facebook.com/sharer/sharer.php",{u:o.id?`${a}/share/${i}/${o.id}`:t});window.open(l,"fbShareWindow",`height=450, width=550, top=${g/2-275}, left=${h/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,A,rootUrl,x,D),onClickTwitter:e=>((e,t,a,i,o,l)=>{e.preventDefault();const n=(0,r.addQueryArgs)("https://twitter.com/intent/tweet",{text:l,url:o.id?`${a}/share/${i}/${o.id}`:t});window.open(n,"twtrShareWindow",`height=450, width=550, top=${g/2-275}, left=${h/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,A,rootUrl,x,D,i.metadata.title),pngAttrs:D,elementId:u}))),a)}))};i()((()=>{p()}))})();
//# sourceMappingURL=view.js.map