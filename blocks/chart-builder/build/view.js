(()=>{"use strict";var e={338:(e,t,a)=>{var i=a(795);t.H=i.createRoot,i.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const i=window.React,o=window.wp.domReady;var r=a.n(o);const l=window.wp.url,n=window.prcChartBuilder,s=window.prcFunctions;var c=a(338);const d={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]};window.wp.apiFetch;const m=e=>e.split(",").map(Number).filter((e=>!Number.isNaN(e))),u=(e,t,a,i,o)=>Number.isNaN(e)||Number.isNaN(t)?[0,100]:"bar"===a&&"x"===o||"stacked-bar"===a&&"x"===o||"dot-plot"===a&&"x"===o||"pie"===a?null:"time"===i&&"x"===o?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)],b=(e,t)=>"time"===t?e.map((e=>new Date(`${e}`))):e,h=(0,i.createElement)("svg",{width:"10",height:"10",viewBox:"0 0 44 44","aria-hidden":"true",focusable:"false"},(0,i.createElement)("path",{d:"M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"}),(0,i.createElement)("path",{d:"M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"})),g=({onClickFacebook:e,onClickTwitter:t,pngAttrs:a,elementId:o})=>{function r(e){document.querySelector(`#modal-overlay-${e}`).classList.remove("active"),document.querySelector(`#modal-${e}`).classList.remove("active")}const{id:l,url:n}=a;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:"share-modal__overlay",id:`modal-overlay-${o}`,onClick:e=>{e.preventDefault(),r(o)}}),(0,i.createElement)("div",{className:"share-modal",id:`modal-${o}`},(0,i.createElement)("div",{className:"share-modal__inner"},(0,i.createElement)("div",{className:"share-modal__header"},(0,i.createElement)("h2",{className:"share-modal__title"},"Share this chart:"),(0,i.createElement)("button",{type:"button","aria-label":"Close",className:"share-modal__close",onClick:e=>{e.preventDefault(),r(o)}},h)),(0,i.createElement)("div",{className:"share-modal__body"},(0,i.createElement)("button",{type:"button",className:"share-modal__button share-modal__button--twitter",onClick:t},(0,i.createElement)("span",null,"Share on X")),(0,i.createElement)("button",{type:"button",className:"share-modal__button share-modal__button--facebook",onClick:e},(0,i.createElement)("span",null,"Share on Facebook")),a.id&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)("a",{className:"share-modal__download-png",href:n,download:`chart-${l}.png`},(0,i.createElement)("span",null,"Download .png image")))))))};new DOMParser;const{innerWidth:p,innerHeight:f}=window,v=()=>{document.querySelectorAll(".wp-chart-builder-wrapper").forEach((e=>{const t=e.querySelector(".wp-chart-builder-inner"),a=(0,c.H)(t),o=(e=>{const t=e.dataset.chartHash,a=window.chartConfigs[t],i=((e,t,a="wp-chart-builder-wrapper",i=null)=>{const{chartType:o,chartOrientation:r,paddingTop:l,paddingRight:s,paddingBottom:c,paddingLeft:h,height:g,width:p,mobileBreakpoint:f,horizontalRules:v}=e,{metaTextActive:k,metaTitle:C,metaSubtitle:y,metaNote:w,metaSource:x,metaTag:A}=e,{showXMinDomainLabel:S,xAbbreviateTicks:D,xAbbreviateTicksDecimals:L,xTicksToLocaleString:E,xAxisActive:F,xAxisStroke:B,xGridStroke:T,xGridStrokeDasharray:P,xGridOpacity:W,xLabel:O,xLabelFontSize:_,xLabelTextFill:M,xLabelPadding:q,xLabelMaxWidth:N,xMaxDomain:$,xMinDomain:z,xScale:U,xDateFormat:V,xTickExact:I,xTickLabelAngle:R,xTickLabelMaxWidth:H,xTickLabelDX:G,xTickLabelDY:X,xTickLabelTextAnchor:Y,xTickLabelVerticalAnchor:j,xTickMarksActive:Z,xTickNum:K,xTickUnit:Q,xTickUnitPosition:J}=e,{yAxisStroke:ee,yGridStroke:te,yGridStrokeDasharray:ae,yGridOpacity:ie,yAxisActive:oe,yScale:re,yScaleFormat:le,yLabel:ne,yLabelFontSize:se,yLabelTextFill:ce,yLabelPadding:de,yLabelMaxWidth:me,yMinDomain:ue,yMaxDomain:be,showYMinDomainLabel:he,yTickMarksActive:ge,yTickNum:pe,yTickExact:fe,yTickUnit:ve,yTickUnitPosition:ke,yTickLabelAngle:Ce,yTickLabelMaxWidth:ye,yTickLabelVerticalAnchor:we,yTickLabelTextAnchor:xe,yTickLabelDY:Ae,yTickLabelDX:Se,yAbbreviateTicks:De,yAbbreviateTicksDecimals:Le,yTicksToLocaleString:Ee}=e,{labelsActive:Fe,showFirstLastPointsOnly:Be,labelPositionDX:Te,labelPositionDY:Pe,labelAbsoluteValue:We,labelFormatValue:Oe,labelUnit:_e,labelUnitPosition:Me,barLabelPosition:qe,barLabelCutoff:Ne,barLabelCutoffMobile:$e,labelColor:ze,labelFontSize:Ue,labelFontWeight:Ve,labelTruncateDecimal:Ie,labelToFixedDecimal:Re}=e,{legendActive:He,legendOrientation:Ge,legendCategories:Xe,legendTitle:Ye,legendOffsetX:je,legendOffsetY:Ze,legendAlignment:Ke,legendMarkerStyle:Qe,legendBorderStroke:Je,legendFill:et}=e,{tooltipActive:tt,tooltipActiveOnMobile:at,tooltipHeaderActive:it,tooltipHeaderValue:ot,tooltipMaxHeight:rt,tooltipMaxWidth:lt,tooltipMinWidth:nt,tooltipMinHeight:st,tooltipOffsetX:ct,tooltipOffsetY:dt,tooltipFormat:mt,tooltipDateFormat:ut,tooltipFormatValue:bt,tooltipAbsoluteValue:ht,deemphasizeSiblings:gt,deemphasizeOpacity:pt}=e,{pieCategoryLabelsActive:ft}=e,{barPadding:vt,barGroupPadding:kt}=e,{positiveCategories:Ct,negativeCategories:yt,neutralCategory:wt,divergingBarPercentOfInnerWidth:xt,neutralBarSeparator:At,neutralBarActive:St,neutralBarOffsetX:Dt,neutralBarSeparatorOffsetX:Lt}=e,{dotPlotConnectPoints:Et,dotPlotConnectPointsStroke:Ft,dotPlotConnectPointsStrokeWidth:Bt,dotPlotConnectPointsStrokeDasharray:Tt}=e,{lineStrokeDashArray:Pt,lineInterpolation:Wt,lineStrokeWidth:Ot,lineNodes:_t,nodeSize:Mt,nodeStrokeWidth:qt,nodeFill:Nt,areaFillOpacity:$t}=e,{explodedBarColumnGap:zt}=e,{plotBandsActive:Ut,plotBands:Vt}=e,{diffColumnActive:It,diffColumnCategory:Rt,diffColumnHeader:Ht,diffColumnMarginLeft:Gt,diffColumnBackgroundColor:Xt,diffColumnHeightOffset:Yt,diffColumnWidth:jt,diffColumnAppearance:Zt}=e,{colorValue:Kt,customColors:Qt,elementHasStroke:Jt}=e,{sortOrder:ea,categories:ta,availableCategories:aa,dateInputFormat:ia,sortKey:oa}=e,ra=m(I),la=m(fe);return{...n.baseConfig,layout:{...n.baseConfig.layout,name:`chart-builder-chart-${t}`,parentClass:a,type:"area"===o?"line":o,orientation:r,width:p,height:g,padding:{top:l,bottom:c,left:h,right:s},horizontalRules:v,mobileBreakpoint:f},metadata:{...n.baseConfig.metadata,active:k,title:C,subtitle:y,note:w,source:x,tag:A},colors:0<Qt.length?Qt:d[Kt],plotBands:{...n.baseConfig.plotBands,active:Ut,bands:Vt},independentAxis:{...n.baseConfig.independentAxis,active:F,label:O,scale:U,dateFormat:V,domain:u(z,$,o,U,"x"),showZero:S,tickCount:K,tickValues:1>=ra.length?null:b(ra,U),tickUnit:Q,tickUnitPosition:J,tickFormat:null,abbreviateTicks:D,abbreviateTicksDecimals:L,ticksToLocaleString:E,tickLabels:{...n.baseConfig.independentAxis.tickLabels,angle:R,verticalAnchor:j,textAnchor:Y,dy:X,dx:G,fontSize:_,padding:0,fill:M,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:H},axisLabel:{...n.baseConfig.independentAxis.axisLabel,fontSize:_,fill:M,padding:q,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:N},axis:{...n.baseConfig.independentAxis.axis,stroke:B,strokeWidth:1},ticks:{...n.baseConfig.independentAxis.ticks,stroke:B,size:Z?5:0,strokeWidth:1},grid:{...n.baseConfig.independentAxis.grid,stroke:T,strokeOpacity:W,strokeWidth:1,strokeDasharray:P}},dependentAxis:{...n.baseConfig.dependentAxis,active:oe,label:ne,scale:re,domain:u(ue,be,o,re,"y"),showZero:he,tickCount:pe,tickValues:1>=la.length?null:b(la,re),tickUnit:ve,tickUnitPosition:ke,tickAngle:Ce,tickFormat:null,abbreviateTicks:De,abbreviateTicksDecimals:Le,ticksToLocaleString:Ee,customTickFormat:null,tickLabels:{...n.baseConfig.dependentAxis.tickLabels,angle:Ce,verticalAnchor:we,textAnchor:xe,dy:Ae,dx:Se,fontSize:se,fill:ce,padding:15,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:ye},axisLabel:{...n.baseConfig.dependentAxis.axisLabel,fontSize:se,fill:ce,padding:de,angle:270,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"middle",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",maxWidth:me},ticks:{...n.baseConfig.dependentAxis.ticks,stroke:ee,size:ge?5:0,strokeWidth:1},axis:{...n.baseConfig.dependentAxis.axis,stroke:ee,strokeWidth:1},grid:{...n.baseConfig.dependentAxis.grid,stroke:te,strokeOpacity:ie,strokeWidth:1,strokeDasharray:ae}},dataRender:{...n.baseConfig.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:oa,sortOrder:ea,categories:0<ta.length?ta:aa,xScale:U,yScale:re,xFormat:ia,yFormat:le,numberFormat:"en-US",isHighlightedColor:"#ECDBAC"},animate:{active:!1,animationWhitelist:[],duration:2e3},events:{...n.baseConfig.events,click:i},tooltip:{...n.baseConfig.tooltip,active:tt,activeOnMobile:at,deemphasizeSiblings:gt,deemphasizeOpacity:pt,headerActive:it,headerValue:ot,format:mt,offsetX:ct,offsetY:dt,abbreviateValue:!1,absoluteValue:ht,toFixedDecimal:0,toLocaleString:bt,customFormat:null,rlsFormat:!1,dateFormat:ut,style:{...n.baseConfig.tooltip.style,maxWidth:lt,maxHeight:rt,minHeight:st,minWidth:nt,width:"auto",height:"auto",fontSize:"13px",fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",background:"white",border:"1px solid #CBCBCB",padding:"10px",borderRadius:"0px",color:"black"}},legend:{...n.baseConfig.legend,active:He,orientation:Ge,categories:Xe||ta,title:Ye,offsetX:je,offsetY:Ze,alignment:Ke,markerStyle:Qe,borderStroke:Je,fill:et},bar:{...n.baseConfig.bar,hasRectStroke:Jt,barPadding:vt,barGroupPadding:kt},line:{...n.baseConfig.line,interpolation:Wt,strokeDasharray:Pt,strokeWidth:Ot,showPoints:_t,showArea:"area"===o,areaFillOpacity:$t},dotPlot:{...n.baseConfig.dotPlot,connectPoints:Et,connectingLine:{...n.baseConfig.dotPlot.connectingLine,stroke:Ft,strokeWidth:Bt,strokeDasharray:Tt,strokeOpacity:1}},pie:{...n.baseConfig.pie,hasPathStroke:Jt,pathStrokeColor:"white",pathStrokeWidth:1,showCategoryLabels:ft},explodedBar:{...n.baseConfig.explodedBar,columnGap:zt},nodes:{...n.baseConfig.nodes,pointSize:Mt,pointFill:Nt,pointStrokeWidth:qt,pointCustomSize:null},labels:{...n.baseConfig.labels,active:Fe,showFirstLastPointsOnly:Be,color:ze,fontWeight:Ve,fontSize:Ue,fontFamily:"'franklin-gothic-urw', Verdana, Geneva, sans-serif",labelPositionBar:qe,labelCutoff:Ne,labelCutoffMobile:$e,labelPositionDX:Te,labelPositionDY:Pe,pieLabelRadius:60,abbreviateValue:!1,toLocaleString:Oe,absoluteValue:We,truncateDecimal:Ie,toFixedDecimal:Re,labelUnit:_e,labelUnitPosition:Me,textAnchor:"middle",customLabelFormat:null},voronoi:{...n.baseConfig.voronoi,active:!1,fill:"#756a7e",stroke:"#ccc",strokeWidth:1,strokeOpacity:.5},regression:{...n.baseConfig.regression,active:!1,type:"linear",stroke:"#2a2a2a",strokeWidth:2,strokeDasharray:"1"},divergingBar:{...n.baseConfig.divergingBar,positiveCategories:Ct,negativeCategories:yt,netPositiveCategory:"y4",netNegativeCategory:"y5",percentOfInnerWidth:xt/100,neutralBar:{...n.baseConfig.divergingBar.neutralBar,category:wt,offsetX:Dt,active:St&&!!wt&&0<wt.length,separator:At,separatorOffsetX:Lt}},diffColumn:{...n.baseConfig.diffColumn,active:It,category:Rt,columnHeader:Ht,style:{...n.baseConfig.diffColumn.style,rectStrokeWidth:0,rectStrokeColor:"white",rectFill:Xt,fontWeight:"bold"===Zt||"bold-italic"===Zt?"bold":"normal",fontStyle:"italic"===Zt||"bold-italic"===Zt?"italic":"normal",headerFontSize:"12px",marginLeft:Gt,width:jt,heightOffset:Yt}}}})(a,t,"wp-chart-builder-wrapper"),{isStaticChart:o,staticImageId:r,staticImageUrl:l,staticImageAltText:s,tabsActive:c}=a;return{...i,staticImageId:r,staticImageUrl:l,isStaticChart:o,staticImageAltText:s,tabsActive:c}})(t),r=t.dataset.chartHash,h=e.querySelector(".wp-chart-builder-table"),v=e.querySelector(".wp-chart-builder-download"),k=e.querySelector(".download-svg"),C=e.querySelector(".wp-chart-builder-view-buttons"),{isStaticChart:y,staticImageId:w,staticImageUrl:x,tabsActive:A}=o,{postId:S,postUrl:D,postPubDate:L,rootUrl:E}=t.dataset,F={url:y?x:window.chartConfigs[r].pngUrl,id:y?w:window.chartConfigs[r].pngId},B=window.tableData[r],T=window.chartPreformattedData[r],{chartData:P}=window.chartConfigs[r],W=T||P,O=!!(A&&B&&!B.errors&&B.rows.length>0)&&(0,s.arrayToCSV)([B.header,...B.rows],{title:o.metadata.title,subtitle:o.metadata.subtitle,note:o.metadata.note,source:o.metadata.source,tag:o.metadata.tag});v&&O&&v.addEventListener("click",(e=>{e.preventDefault();const t=new Blob([O],{type:"text/csv"}),a=URL.createObjectURL(t),i=document.createElement("a"),r=o.metadata.title.toLowerCase().replace(/\s+/g,"_");i.setAttribute("href",a),i.setAttribute("download",`${r}_data_${L}.csv`),i.click(),e.stopPropagation()})),k&&k.addEventListener("click",(e=>(e=>{const t=document.querySelector(`[data-chart-hash="${e}"]`).querySelector("svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const a=new Blob([t.outerHTML],{type:"image/svg+xml"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`chart-${e}.svg`,document.body.appendChild(o),o.click(),document.body.removeChild(o)})(r))),((e,t,a,i)=>{e&&e.querySelector(".view-button--chart")&&e.querySelector(".view-button--chart").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--chart").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.remove("active"),document.querySelector(`#modal-${i}`).classList.remove("active")})),e&&e.querySelector(".view-button--table")&&e.querySelector(".view-button--table").addEventListener("click",(()=>{t.classList.add("active"),a.classList.remove("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--table").classList.add("active")})),e&&e.querySelector(".view-button--share")&&e.querySelector(".view-button--share").addEventListener("click",(()=>{t.classList.remove("active"),a.classList.add("active"),e.querySelectorAll(".view-button").forEach((e=>{e.classList.remove("active")})),e.querySelector(".view-button--share").classList.add("active"),document.querySelector(`#modal-overlay-${i}`).classList.add("active"),document.querySelector(`#modal-${i}`).classList.add("active")}))})(C,h,t,r),a.render((0,i.createElement)("figure",null,(0,i.createElement)(n.ChartBuilderTextWrapper,{active:o.metadata.active,width:o.layout.width,horizontalRules:o.layout.horizontalRules,title:o.metadata.title,subtitle:o.metadata.subtitle,note:o.metadata.note,source:o.metadata.source,tag:o.metadata.tag},y&&(0,i.createElement)("img",{className:"cb__static-img",src:F.url,alt:o.staticImageAltText}),!y&&(0,i.createElement)(n.ChartBuilderWrapper,{config:o,data:W}),A&&(0,i.createElement)(g,{onClickFacebook:e=>((e,t,a,i,o)=>{e.preventDefault();const r=(0,l.addQueryArgs)("https://www.facebook.com/sharer/sharer.php",{u:o.id?`${a}/share/${i}/${o.id}`:t});window.open(r,"fbShareWindow",`height=450, width=550, top=${f/2-275}, left=${p/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,D,E,S,F),onClickTwitter:e=>((e,t,a,i,o,r)=>{e.preventDefault();const n=(0,l.addQueryArgs)("https://twitter.com/intent/tweet",{text:r,url:o.id?`${a}/share/${i}/${o.id}`:t});window.open(n,"twtrShareWindow",`height=450, width=550, top=${f/2-275}, left=${p/2-225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`),e.stopPropagation()})(e,D,E,S,F,o.metadata.title),pngAttrs:F,elementId:r}))),t)}))};r()((()=>{v()}))})();
//# sourceMappingURL=view.js.map